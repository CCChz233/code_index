{"summary": "We need to produce JSON with summary, business_intent, keywords list.\n\nWe must not list method names verbatim. Focus on class responsibility and state/behavior.\n\nClass RandCropByPosNegLabeld: dictionary-based version of RandCropByPosNegLabel. It crops random fixed-size regions from images based on foreground/background ratio, using label and optionally image thresholds. Handles varying spatial sizes, adjusts for out-of-bounds, supports lazy execution, returns list of dicts with patch_index metadata. Allows missing keys, smaller dimensions.\n\nSo summary: A transform that randomly extracts multiple patches from a set of images/labels, selecting patch centers according to a configurable positive-to-negative ratio, with support for precomputed indices, image thresholds, adaptive spatial size, and lazy execution, returning patched dictionaries with metadata.\n\nBusiness intent: Used in medical imaging preprocessing pipelines to generate balanced training samples (foreground/background) for deep learning models, improving data augmentation and handling variable image sizes.\n\nKeywords: random cropping, positive negative sampling, label-based patch extraction, dictionary transform, lazy execution, medical imaging, data augmentation, ROI, spatial size adaptation, metadata.\n\nMake JSON.\n\nLet's craft.\n\n{\n \"summary\": \"...\",\n \"business_intent\": \"...\",\n \"keywords\": [...]\n}\n\nMake sure no method names.\n\nLet's write.\n\nSummary: \"Randomly extracts a configurable number of fixed‑size patches from each entry in a dictionary of images, choosing patch centers from foreground or background voxels according to a user‑defined positive‑to‑negative ratio. Supports optional image‑based background selection, pre‑computed foreground/background indices, automatic adjustment for out‑of‑bounds or smaller dimensions, and lazy execution, and appends patch index metadata to the output dictionaries.\"\n\nBusiness intent: \"Provides balanced, spatially diverse training samples for deep learning models in medical imaging (or other voxel‑based data) by automating foreground/background patch sampling and handling heterogeneous image sizes.\"\n\nKeywords list.\n\nLet's produce JSON.\n\nassistantfinal{\n  \"summary\": \"Randomly extracts a configurable number of fixed‑size patches from each entry in a dictionary of images, selecting patch centers from foreground or background voxels based on a user‑defined positive‑to‑negative ratio. It can use label information, optional image thresholds, or pre‑computed foreground/background indices, automatically adjusts for out‑of‑bounds or smaller dimensions, supports lazy execution, and adds patch index metadata to the resulting dictionaries.\",\n  \"business_intent\": \"Enables balanced and diverse training sample generation for deep learning models in", "business_intent": "We need to produce JSON with summary, business_intent, keywords list.\n\nWe must not list method names verbatim. Focus on class responsibility and state/behavior.\n\nClass RandCropByPosNegLabeld: dictionary-based version of RandCropByPosNegLabel. It crops random fixed-size regions from images based on foreground/background ratio, using label and optionally image thresholds. Handles varying spatial sizes, adjusts for out-of-bounds, supports lazy execution, returns list of dicts with patch_index metadata. Allows missing keys, smaller dimensions.\n\nSo summary: A transform that randomly extracts multiple patches from a set of images/labels, selecting patch centers according to a configurable positive-to-negative ratio, with support for precomputed indices, image thresholds, adaptive spatial size, and lazy execution, returning patched dictionaries with metadata.\n\nBusiness intent: Used in medical imaging preprocessing pipelines to generate balanced training samples (foreground/background) for deep learning models, improving data augmentation and handling variable image sizes.\n\nKeywords: random cropping, positive negative sampling, label-based patch extraction, dictionary transform, lazy execution, medical imaging, data augmentation, ROI, spatial size adaptation, metadata.\n\nMake JSON.\n\nLet's craft.\n\n{\n \"summary\": \"...\",\n \"business_intent\": \"...\",\n \"keywords\": [...]\n}\n\nMake sure no method names.\n\nLet's write.\n\nSummary: \"Randomly extracts a configurable number of fixed‑size patches from each entry in a dictionary of images, choosing patch centers from foreground or background voxels according to a user‑defined positive‑to‑negative ratio. Supports optional image‑based background selection, pre‑computed foreground/background indices, automatic adjustment for out‑of‑bounds or smaller dimensions, and lazy execution, and appends patch index metadata to the output dictionaries.\"\n\nBusiness intent: \"Provides balanced, spatially diverse training samples for deep learning models in medical imaging (or other voxel‑based data) by automating foreground/background patch sampling and handling heterogeneous image sizes.\"\n\nKeywords list.\n\nLet's produce JSON.\n\nassistantfinal{\n  \"summary\": \"Randomly extracts a configurable number of fixed‑size patches from each entry in a dictionary of images, selecting patch centers from foreground or background voxels based on a user‑defined positive‑to‑negative ratio. It can use label information, optional image thresholds, or pre‑computed foreground/background indices, automatically adjusts for out‑of‑bounds or smaller dimensions, supports lazy execution, and adds patch index metadata to the resulting dictionaries.\",\n  \"business_intent\": \"Enables balanced and diverse training sample generation for deep learning models in", "keywords": [], "summary_hash": "d521012198f5", "cached_at": "2026-02-08T12:04:58+00:00"}