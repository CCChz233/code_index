{"summary": "We need to summarize the functionality of the code snippet. The code is from aiohttp/pytest_plugin.py. It defines imports, a TypeVar, and a function pytest_generate_tests that is used by pytest to generate test parameters for fixtures. It checks if the test function uses a fixture named \"loop_factory\". If not, returns. It reads the config option aiohttp_loop to determine which event loop policies to use. It defines available factories: default pyloop and optionally uvloop if installed. It parses the loops string, handling optional loops indicated by \"?\". It builds a dict of factories to use, raising error if required loop not available. Then it parametrize the fixture \"loop_factory\" with the selected factories and ids.\n\nThus the summary: The code integrates aiohttp with pytest, providing a custom test parameterization for event loop factories. It reads the command-line option `--aiohttp-loop` (or similar) to decide which event loop implementations (default asyncio or uvloop) to use in tests. It registers the `loop_factory` fixture with the selected loop policies, allowing tests to run under different event loops. It also handles optional loops and raises errors for unknown required loops.\n\nNow produce the summary in Chinese. Must start directly with the summary content, no preamble. So just output Chinese description. Should mention inputs: metafunc (pytest's metafunc), config option aiohttp_loop, optional uvloop import. Output: parametrize loop_factory fixture.\n\nLet's produce.assistantfinal\u6839\u636e pytest \u7684\u94a9\u5b50 `pytest_generate_tests`\uff0c\u5728\u6d4b\u8bd5\u51fd\u6570\u9700\u8981 `loop_factory` fixture \u65f6\u52a8\u6001\u751f\u6210\u8be5 fixture \u7684\u53c2\u6570\u3002  \n- **\u8f93\u5165**\uff1a`metafunc`\uff08pytest \u5728\u6536\u96c6\u9636\u6bb5\u63d0\u4f9b\u7684\u5143\u4fe1\u606f\uff09\uff0c\u4ee5\u53ca\u547d\u4ee4\u884c/\u914d\u7f6e\u9879 `aiohttp_loop` \u6307\u5b9a\u7684\u4e8b\u4ef6\u5faa\u73af\u5217\u8868\u3002  \n- **\u5185\u90e8\u903b\u8f91**\uff1a  \n  1. \u82e5\u6d4b\u8bd5\u672a\u58f0\u660e `loop_factory` \u4f9d\u8d56\u5219\u76f4\u63a5\u8fd4\u56de\u3002  \n  2. \u6784\u5efa\u53ef\u7528\u7684\u4e8b\u4ef6\u5faa\u73af\u5b9e\u73b0\u6620\u5c04\uff1a\u9ed8\u8ba4\u4f7f\u7528 `asyncio.DefaultEventLoopPolicy`\uff08\u6807\u8bb0\u4e3a `pyloop`\uff09\uff0c\u82e5\u73af\u5883\u4e2d\u5b89\u88c5\u4e86 `uvloop` \u5219\u989d\u5916\u52a0\u5165 `uvloop.EventLoopPolicy`\uff08\u6807\u8bb0\u4e3a `uvloop`\uff09\u3002  \n  3. \u89e3\u6790 `aiohttp_loop` \u53c2\u6570\uff0c\u652f\u6301\u9017\u53f7\u5206\u9694\u7684\u5faa\u73af\u540d\u79f0\uff0c\u5e76\u901a\u8fc7\u540e\u7f00 `?` \u8868\u793a\u201c\u53ef\u9009\u201d\u3002  \n  4. \u5bf9\u6bcf", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:58:55.036946"}