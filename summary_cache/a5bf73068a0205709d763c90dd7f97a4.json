{"summary": "- This code defines a decorator `new_create_async` that wraps an asynchronous function (`func`) to handle:\n  - **Context**: `handle_context` (which likely\u00a0... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... \nWe need to produce a summary of the functionality of the code. The code snippet is incomplete; but we can infer the overall functionality. The code appears to be part of a library \"instructor\" that provides a decorator for functions that call OpenAI API and process responses into Pydantic models. The decorator handles response model validation, templating, retries, hooks, and context handling. It supports both async and sync functions via separate wrappers.\n\nThe code imports many modules: AsyncOpenAI, OpenAI, BaseModel, handle_response_model, retry_async, retry_sync, is_async, Hooks, handle_templating, Mode, logging, tenacity.\n\nThe decorator `new_create_async` is defined inside a function `wrap`? Actually the snippet shows `@wraps(func)  # type: ignore` then `async def new_create_async(...):`. So it's a wrapper for an async function.\n\nParameters:\n- response_model: optional Pydantic model class.\n- validation_context: optional dict for validation.\n- context: optional dict for templating.\n- max_retries: int or AsyncRetrying config.\n- strict: bool for strict validation.\n- hooks: optional Hooks object.\n- *args, **kwargs: forwarded to original function.\n\nInside:\n- `context = handle_context(context, validation_context)` merges contexts.\n- `response_model, new_kwargs = handle_response_model(response_model=response_model, mode=mode, **kwargs)` determines response model and extracts any special kwargs.\n- `new_kwargs = handle_templating(new_kwargs, context)` applies templating to kwargs using context.\n- Calls `retry_async` with the original function, response_model, context, max_retries, args, new_kwargs, strict, mode, hooks.\n- Returns the processed response.\n\nThus the business logic: wrap an async function that calls OpenAI API, automatically handle templating of prompts, retry on failures, parse the API response into a Pydantic model, optionally enforce strict validation, and allow custom hooks for pre/post processing.\n\nInputs: original async function, optional response model class, validation context, templating context, retry config, strict flag, hooks, plus any args/kwargs for the original function.\n\nOutputs: an instance of the response model (or raw response", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:43:11.466334"}