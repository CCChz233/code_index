{"summary": "\u8be5\u6d4b\u8bd5\u7528\u4f8b\u9a8c\u8bc1 `is_async` \u51fd\u6570\u80fd\u591f\u6b63\u786e\u8bc6\u522b\u88ab\u53cc\u5c42 `functools.wraps` \u5305\u88c5\u540e\u7684\u5f02\u6b65\u51fd\u6570\u3002\u5b83\u9996\u5148\u5b9a\u4e49\u4e00\u4e2a `async_function`\uff0c\u968f\u540e\u901a\u8fc7\u4e24\u6b21 `functools.wraps` \u5305\u88c5\u5f97\u5230 `double_wrapped_function`\uff0c\u6700\u540e\u65ad\u8a00 `is_async(double_wrapped_function)` \u8fd4\u56de `True`\uff0c\u8bf4\u660e\u8be5\u51fd\u6570\u80fd\u591f\u68c0\u6d4b\u5230\u539f\u59cb\u51fd\u6570\u7684\u5f02\u6b65\u7279\u6027\u3002\nThe user asks: \"You are a senior code analyst. Summarize the functionality of the following code. Requirements: 1. Start directly with the summary content. No \"This code does...\" or \"Here is...\". 2. Focus on the business logic, inputs, and outputs. 3. Use Chinese (e.g., Chinese/English).\"\n\nWe have a code snippet: tests/test_patch.py import functools from openai import AsyncOpenAI, OpenAI import instructor from instructor.utils import is_async def test_is_async_returns_true_if_double_wrapped_function_is_async(): async def async_function(): pass @functools.wraps(async_function) def wrapped_function(): pass @functools.wraps(wrapped_function) def double_wrapped_function(): pass assert is_async(double_wrapped_function) is True\n\nWe need to produce a summary in Chinese (or Chinese/English) focusing on business logic, inputs, outputs. No \"This code does...\" etc. So start directly with summary content.\n\nWe need to describe that it's a unit test verifying that is_async correctly identifies async functions even after double wrapping.\n\nInputs: double_wrapped_function (a function). Output: boolean True.\n\nAlso mention imports but not necessary.\n\nLet's craft a concise summary in Chinese.\n\nMake sure not to start with \"This code...\" etc. Just start with the summary.\n\nOk.assistantfinal\u9a8c\u8bc1 `is_async` \u80fd\u591f\u5728\u51fd\u6570\u88ab\u4e24\u5c42 `functools.wraps` \u5305\u88c5\u540e\u4ecd\u6b63\u786e\u8bc6\u522b\u5176\u5f02\u6b65\u5c5e\u6027\u3002  \n- **\u8f93\u5165**\uff1a`double_wrapped_function`\uff08\u7531 `async_function` \u7ecf\u4e24\u6b21 `functools.wraps` \u5305\u88c5\u5f97\u5230\u7684\u51fd\u6570\u5bf9\u8c61\uff09\u3002  \n- **\u4e1a\u52a1\u903b\u8f91**\uff1a\u8c03\u7528 `is_async` \u68c0\u6d4b\u51fd\u6570\u5bf9\u8c61\u662f\u5426\u4e3a\u5f02\u6b65\u51fd\u6570\u3002  \n- **\u8f93\u51fa**\uff1a\u8fd4\u56de `True`\uff0c\u65ad\u8a00\u901a\u8fc7\uff0c\u8bf4\u660e `is_async` \u80fd\u7a7f\u900f\u591a\u5c42\u5305\u88c5\u8bc6\u522b\u539f\u59cb\u51fd\u6570\u7684 `async` \u6807\u8bb0\u3002", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:47:35.886055"}