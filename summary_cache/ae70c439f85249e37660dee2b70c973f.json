{"summary": "- The code defines a payload handling system for aiohttp, a Python asynchronous HTTP client/server library.\n- It imports various modules and functions from aiohttp and other libraries.\n- It defines a registry for registering and registering payload types.\n- It defines a class ``Payload`` and its subclasses.\n- It defines a ```get_payload`` function that returns a type.\n```\n\nWe need to summarize the functionality of the code. The code snippet is from aiohttp/payload.py. It includes imports, definitions of constants, type aliases, a registry, and a decorator for registering payload types. The code defines a payload handling system for aiohttp, with various payload classes for different data types (bytes, string, IOBase, etc.) and a function to get appropriate payload based on input. It also defines a registry to map content types to payload classes. The code includes a decorator that registers a payload class with a specific type and order.\n\nWe need to produce a summary in Chinese (with possibly English). Must start directly with the summary content, no \"This code does...\" or \"Here is...\". So start with something like \"\u8be5\u6a21\u5757\u5b9e\u73b0\u4e86 aiohttp \u7684\u8d1f\u8f7d\uff08payload\uff09\u5904\u7406\u7cfb\u7edf\uff0c...\" etc.\n\nWe need to focus on business logic, inputs, outputs. So mention that the code registers payload types, provides get_payload function to select appropriate payload class based on input data, and defines various payload subclasses for bytes, string, file-like objects, JSON, async iterables, etc. The inputs are data objects (bytes, str, IOBase, etc.) and the output is a Payload instance that can be streamed to HTTP.\n\nAlso mention the constant TOO_LARGE_BYTES_BODY for threshold.\n\nAlso mention that the registry is a PayloadRegistry that holds mapping of content types to payload factories.\n\nAlso mention that the decorator payload_type registers a payload class with a type and order.\n\nThus produce a concise summary.\n\nLet's write in Chinese, maybe with some English terms.\n\nMake sure not to start with \"\u8be5\u4ee3\u7801...\"? The requirement says \"Start directly with the summary content. No 'This code does...' or 'Here is...'.\" So we can start with \"\u5b9e\u73b0\u4e86...\" or \"\u63d0\u4f9b\u4e86...\" etc.\n\nOk. Let's produce.assistantfinal\u5b9e\u73b0\u4e86 aiohttp \u7684\u8d1f\u8f7d\uff08payload\uff09\u5904\u7406\u4f53\u7cfb\uff0c\u8d1f\u8d23\u5c06\u5404\u79cd\u4e1a\u52a1\u6570\u636e\uff08bytes\u3001str\u3001\u6587\u4ef6\u6d41\u3001JSON\u3001\u5f02\u6b65\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7b49\uff09\u5305\u88c5\u4e3a\u7edf\u4e00\u7684 `Payload` \u5bf9\u8c61\uff0c\u4ee5\u4f9b HTTP \u8bf7\u6c42/", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:52:19.503066"}