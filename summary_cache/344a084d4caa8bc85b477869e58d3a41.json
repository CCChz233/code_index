{"summary": "- The code defines a class `PartialBase` that inherits from `BaseModel` and provides a method `writer_model_from_chunks_async` for processing JSON data.\n- The method `writer_model_from_chunks_async` is an asynchronous asynchronous.\n```\n\n\n\n\u4ee5\u4e0b\u4ee3\u7801\u5b9e\u73b0\u4e86\u4e00\u4e2a\u57fa\u4e8e Pydantic \u7684\u5f02\u6b65 JSON \u6d41\u5904\u7406\u5de5\u5177\uff0c\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\u5982\u4e0b\uff1a\n\n1. **\u7c7b\u7ed3\u6784**  \n   - `PartialBase` \u7ee7\u627f\u81ea `pydantic.BaseModel`\uff0c\u7528\u4e8e\u5b9a\u4e49\u53ef\u90e8\u5206\u89e3\u6790\u7684\u6a21\u578b\u3002  \n   - \u901a\u8fc7 `PartialLiteralMixin`\uff08\u82e5\u5b58\u5728\uff09\u51b3\u5b9a\u89e3\u6790\u6a21\u5f0f\uff1a`\"on\"`\uff08\u5b57\u9762\u91cf\uff09\u6216 `\"trailing-strings\"`\uff08\u5c3e\u968f\u5b57\u7b26\u4e32\uff09\u3002\n\n2. **\u6838\u5fc3\u65b9\u6cd5 `writer_model_from_chunks_async`**  \n   - **\u8f93\u5165**\uff1a  \n     - `json_chunks: AsyncGenerator[str, None]`\uff1a\u5f02\u6b65\u751f\u6210\u7684 JSON \u5b57\u7b26\u4e32\u5757\uff08\u53ef\u80fd\u662f\u5206\u7247\u7684\u3001\u672a\u5b8c\u6574\u7684 JSON\uff09\u3002  \n     - `**kwargs: Any`\uff1a\u4f20\u9012\u7ed9\u6a21\u578b\u9a8c\u8bc1\u7684\u989d\u5916\u53c2\u6570\u3002  \n   - **\u5904\u7406\u6d41\u7a0b**\uff1a  \n     1. \u521d\u59cb\u5316 `potential_object` \u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u7528\u4e8e\u7d2f\u8ba1\u53ef\u80fd\u7684\u5b8c\u6574 JSON\u3002  \n     2. \u83b7\u53d6\u5f53\u524d\u7c7b\u5bf9\u5e94\u7684\u201c\u90e8\u5206\u6a21\u578b\u201d\uff08`partial_model = cls.get_partial_model()`\uff09\uff0c\u8be5\u6a21\u578b\u652f\u6301\u4e0d\u5b8c\u6574 JSON \u7684\u589e\u91cf\u9a8c\u8bc1\u3002  \n     3. \u6839\u636e\u7c7b\u662f\u5426\u6df7\u5165 `PartialLiteralMixin`\uff0c\u8bbe\u7f6e `partial_mode`\uff08`\"on\"` \u6216 `\"trailing-strings\"`\uff09\uff0c\u51b3\u5b9a `jiter.from_json` \u7684\u89e3\u6790\u7b56\u7565\u3002  \n     4. \u5f02\u6b65\u904d\u5386 `json_chunks`\uff1a  \n        - \u82e5\u5f53\u524d\u5757\u957f\u5ea6\u5927\u4e8e\u5df2\u7d2f\u8ba1\u7684 `potential_object`\uff0c\u76f4\u63a5\u66ff\u6362\uff1b\u5426\u5219\u5c06\u5757\u62fc\u63a5\u5230 `potential_object`\u3002  \n        - \u4f7f\u7528 `jiter.from_json` \u5c06\u7d2f\u8ba1\u7684\u5b57\u7b26\u4e32\uff08\u53bb\u9664\u9996\u5c3e\u7a7a\u767d\uff0c\u82e5\u4e3a\u7a7a\u5219\u4f7f\u7528 `\"{}\"`\uff09\u89e3\u6790\u4e3a Python \u5bf9\u8c61\uff0c`partial_mode` \u63a7\u5236\u589e\u91cf\u89e3\u6790\u884c\u4e3a\u3002  \n        - \u8c03\u7528 `partial_model.model_validate` \u5bf9\u89e3\u6790\u7ed3\u679c\u8fdb\u884c Pydantic \u9a8c\u8bc1\uff08`strict=None` \u5141\u8bb8\u5bbd\u677e\u6821\u9a8c\uff09\uff0c\u5e76\u4f20\u5165 `**kwargs`\u3002  \n        - \u5c06\u9a8c\u8bc1\u540e\u7684\u6a21\u578b\u5b9e\u4f8b `obj` \u901a\u8fc7 `yield` \u8fd4\u56de\u7ed9\u8c03\u7528\u65b9\u3002  \n   - **\u8f93\u51fa**\uff1a`AsyncGenerator[T_Model, None]`\uff0c\u5373\u9010\u5757\u4ea7\u751f\u7684\u5df2\u9a8c\u8bc1", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:57:17.161796"}