{"summary": "- The code defines a zipimporter class for importing Python modules from zip archives.\n- It imports necessary modules and defines constants and data structures for handling zip files.\n- It provides a function get_filename() that returns the filename for a given module name.\n- The function uses a helper function _get_module_code() to retrieve the code object.\n```\"\n\nWe need to produce a summary directly, no \"This code does...\" etc. Must focus on business logic, inputs, outputs. Use Chinese (maybe mixed Chinese/English). The user gave a code snippet and a summary already. We need to improve? The instruction: \"Summarize the functionality of the following code.\" The requirements: start directly with the summary content. No \"This code does...\" or \"Here is...\". Focus on business logic, inputs, outputs. Use Chinese (e.g., Chinese/English). So we need to produce a concise summary in Chinese (maybe with some English terms). The code snippet is part of zipimporter implementation. The summary should mention that it defines zipimporter class, constants, caches, and get_filename method. Also mention inputs: module fullname; outputs: filename string or raises ZipImportError. Also mention that it uses internal functions to locate module code in zip archive.\n\nWe should not include the code snippet itself. Just the summary.\n\nLet's produce a Chinese summary:\n\n- \u5b9a\u4e49 zipimporter \u7c7b\uff0c\u5b9e\u73b0\u4ece zip \u5305\u4e2d\u52a0\u8f7d Python \u6a21\u5757\u7684\u673a\u5236\u3002\n- \u5f15\u5165 _frozen_importlib_external\u3001_frozen_importlib\u3001marshal\u3001sys \u7b49\u5e95\u5c42\u6a21\u5757\uff0c\u8bbe\u7f6e\u8def\u5f84\u5206\u9694\u7b26\u3001\u7f13\u5b58\u3001\u5e38\u91cf\uff08\u5982 END_CENTRAL_DIR_SIZE\u3001STRING_END_ARCHIVE\uff09\u4ee5\u53ca\u641c\u7d22\u987a\u5e8f\u3002\n- \u7ef4\u62a4 _zip_directory_cache \u7528\u4e8e\u7f13\u5b58 zip \u76ee\u5f55\u7ed3\u6784\uff0c\u52a0\u901f\u540e\u7eed\u67e5\u627e\u3002\n- \u63d0\u4f9b get_filename(fullname) \u65b9\u6cd5\uff1a\u8f93\u5165\u6a21\u5757\u7684\u5b8c\u6574\u540d\u79f0\uff08fullname\uff09\uff0c\u5185\u90e8\u8c03\u7528 _get_module_code \u89e3\u6790 zip \u4e2d\u5bf9\u5e94\u7684\u4ee3\u7801\u5bf9\u8c61\u3001\u5224\u65ad\u662f\u5426\u4e3a\u5305\u3001\u83b7\u53d6\u5b9e\u9645\u8def\u5f84\uff1b\u8fd4\u56de\u8be5\u6a21\u5757\u5728 zip \u5305\u5185\u7684\u76f8\u5bf9\u6587\u4ef6\u540d\uff1b\u82e5\u627e\u4e0d\u5230\u6216\u4e0d\u7b26\u5408\u5bfc\u5165\u89c4\u5219\u5219\u629b\u51fa ZipImportError\u3002\n- \u8be5\u5b9e\u73b0\u662f Python \u6807\u51c6\u5e93 zipimport \u7684\u6838\u5fc3\uff0c\u652f\u6301 .py\u3001.pyc\u3001\u5305\u7684 __init__ \u6587\u4ef6\u4ee5\u53ca\u5b57\u7b26\u7f16\u7801\u8868 cp437\u3002\n\nMake sure we start directly with the summary content. No leading phrase. Let's produce final answer.assistantfinal\u5b9e\u73b0\u4ece ZIP \u5305\u4e2d\u5bfc\u5165 Python \u6a21\u5757", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:54:35.039804"}