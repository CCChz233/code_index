{"summary": "The provided code defines a ****...**... ... ... ... ... ... ... ... ... ... ... ... ... ... \nWe need to summarize functionality of the code snippet. The snippet is part of aiohttp multipart handling. It includes imports, defines __all__, a type alias _Part, chunk_size, and an async method text(self, *, encoding: Optional[str] = None) -> str that reads body part as text, using read(decode=True) and decoding with charset.\n\nWe need to summarize business logic, inputs, outputs. Provide Chinese. No intro phrase. Just start with summary.\n\nLet's craft: This module implements multipart parsing and writing for aiohttp. It provides MultipartReader, MultipartWriter, BodyPartReader, functions for parsing Content-Disposition, extracting filename, handling compression, etc. The text method of BodyPartReader reads the part, decodes according to charset (default utf-8) and returns string.\n\nProvide inputs: self (BodyPartReader), optional encoding. Output: decoded string.\n\nAlso mention that chunk_size constant used for reading.\n\nLet's produce final answer.assistantfinal\u5b9e\u73b0 **aiohttp** \u4e2d\u7684 multipart\uff08\u8868\u5355/\u6587\u4ef6\u4e0a\u4f20\uff09\u89e3\u6790\u4e0e\u6784\u9020\u3002\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\u5305\u62ec\uff1a\n\n- **MultipartReader / MultipartWriter**\uff1a\u8d1f\u8d23\u4ece HTTP \u8bf7\u6c42\u6d41\u4e2d\u9010\u5757\u8bfb\u53d6 multipart \u6570\u636e\u6216\u751f\u6210\u7b26\u5408 RFC\u202f7578 \u7684 multipart \u54cd\u5e94\u4f53\u3002  \n- **BodyPartReader**\uff1a\u5c01\u88c5\u5355\u4e2a multipart \u5b50\u90e8\u4ef6\uff08\u53ef\u80fd\u662f\u666e\u901a\u5b57\u6bb5\u3001\u6587\u4ef6\u6216\u4e8c\u8fdb\u5236\u6d41\uff09\uff0c\u63d0\u4f9b `read()\u3001readany(), readchunk()` \u7b49\u5f02\u6b65\u8bfb\u53d6\u63a5\u53e3\uff0c\u5e76\u5728\u5185\u90e8\u4f7f\u7528 `chunk_size = 8192` \u8fdb\u884c\u5206\u5757\u8bfb\u53d6\uff0c\u4ee5\u964d\u4f4e\u5185\u5b58\u5360\u7528\u3002  \n- **text() \u65b9\u6cd5**\uff08\u4ee3\u7801\u7247\u6bb5\u6240\u5728\u4f4d\u7f6e\uff09\uff1a  \n  - **\u8f93\u5165**\uff1a`self`\uff08BodyPartReader \u5b9e\u4f8b\uff09\u4ee5\u53ca\u53ef\u9009\u7684 `encoding` \u53c2\u6570\u3002  \n  - **\u5904\u7406**\uff1a\u8c03\u7528 `await self.read(decode=True)` \u8bfb\u53d6\u5b8c\u6574\u90e8\u4ef6\u7684\u539f\u59cb\u5b57\u8282\uff1b\u82e5\u672a\u663e\u5f0f\u6307\u5b9a `encoding`\uff0c\u5219\u901a\u8fc7 `self.get_charset(default=\"utf-8\")` \u81ea\u52a8\u89e3\u6790\u90e8\u4ef6\u7684\u5b57\u7b26\u96c6\uff08\u4f9d\u636e `Content-Type` \u4e2d\u7684 `charset` \u53c2\u6570\uff09\uff0c\u9ed8\u8ba4\u56de\u9000\u5230 UTF\u20118\u3002  \n  - **\u8f93\u51fa**\uff1a\u8fd4\u56de\u89e3\u7801\u540e\u7684 `str`\uff0c\u5373\u90e8\u4ef6\u7684\u6587\u672c\u5185\u5bb9\u3002  \n\n- **Content\u2011Disposition \u89e3\u6790**\uff1a\u901a\u8fc7 `parse_content_disposition`\u3001`content", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:49:09.965241"}