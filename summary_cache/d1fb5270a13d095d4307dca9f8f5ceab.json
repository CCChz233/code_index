{"summary": "The code defines a function `combine_c................................................... \nWe need to produce a summary of the functionality of the code snippet. The snippet includes imports, logger, type variables, and a function combine_system_messages. The function takes existing_system (Union[str, list[SystemMessage], None]) and new_system (Union[str, list[SystemMessage]]) and returns Union[str, list[SystemMessage]]. It merges system messages: if existing is None, returns new. If both strings, concatenates with newline. If both lists, concatenates lists. If one string and other list, converts string to SystemMessage dict (type=\"text\", text=...), and concatenates. Else raises ValueError.\n\nWe need to summarize business logic, inputs, outputs. Use Chinese. No \"This code does...\" etc. So start directly with summary content. Provide Chinese description. Possibly mention that it's part of instructor utils for handling system messages in OpenAI chat completions. Provide details.\n\nLet's craft answer.assistantfinal\u5408\u5e76\u7cfb\u7edf\u6d88\u606f\u7684\u4e1a\u52a1\u903b\u8f91\uff1a  \n- **\u8f93\u5165**  \n  - `existing_system`\uff1a\u53ef\u4ee5\u4e3a `None`\u3001\u7eaf\u6587\u672c\u5b57\u7b26\u4e32\u6216 `SystemMessage` \u5bf9\u8c61\u5217\u8868\u3002  \n  - `new_system`\uff1a\u5fc5\u987b\u4e3a\u7eaf\u6587\u672c\u5b57\u7b26\u4e32\u6216 `SystemMessage` \u5bf9\u8c61\u5217\u8868\u3002  \n- **\u5904\u7406\u89c4\u5219**  \n  1. \u82e5 `existing_system` \u4e3a `None`\uff0c\u76f4\u63a5\u8fd4\u56de `new_system`\u3002  \n  2. \u5f53\u4e24\u8005\u5747\u4e3a\u5b57\u7b26\u4e32\u65f6\uff0c\u4ee5\u4e24\u4e2a\u6362\u884c\u7b26\u5206\u9694\u540e\u62fc\u63a5\uff0c\u5f62\u6210\u5355\u4e00\u5b57\u7b26\u4e32\u3002  \n  3. \u5f53\u4e24\u8005\u5747\u4e3a `SystemMessage` \u5217\u8868\u65f6\uff0c\u6267\u884c\u5217\u8868\u62fc\u63a5\uff0c\u4fdd\u6301\u987a\u5e8f\u3002  \n  4. \u5f53\u4e00\u65b9\u4e3a\u5b57\u7b26\u4e32\u3001\u53e6\u4e00\u65b9\u4e3a\u5217\u8868\u65f6\uff0c\u5c06\u5b57\u7b26\u4e32\u5305\u88c5\u4e3a `SystemMessage`\uff08`type=\"text\", text=...`\uff09\uff0c\u518d\u4e0e\u5217\u8868\u5408\u5e76\u3002  \n  5. \u5176\u4ed6\u7c7b\u578b\u7ec4\u5408\u4e0d\u88ab\u652f\u6301\uff0c\u629b\u51fa `ValueError`\u3002  \n- **\u8f93\u51fa**  \n  - \u8fd4\u56de\u503c\u4e3a\u5408\u5e76\u540e\u7684\u7cfb\u7edf\u6d88\u606f\uff0c\u7c7b\u578b\u4e3a\u5b57\u7b26\u4e32\u6216 `SystemMessage` \u5217\u8868\uff0c\u53d6\u51b3\u4e8e\u8f93\u5165\u7684\u7ec4\u5408\u65b9\u5f0f\u3002  \n\n\u8be5\u51fd\u6570\u7528\u4e8e\u5728\u6784\u5efa OpenAI ChatCompletion \u8bf7\u6c42\u65f6\uff0c\u7edf\u4e00\u7ba1\u7406\u548c\u62fc\u63a5\u7cfb\u7edf\u7ea7\u63d0\u793a\u4fe1\u606f\uff0c\u786e\u4fdd\u4e0d\u540c\u6765\u6e90\u7684\u7cfb\u7edf\u6d88\u606f\u80fd\u591f\u4ee5\u7edf\u4e00\u683c\u5f0f\u4f20\u9012\u7ed9\u6a21\u578b\u3002", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:40:38.538797"}