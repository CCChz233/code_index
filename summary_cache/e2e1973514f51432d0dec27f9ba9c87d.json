{"summary": "The code defines a `parse_anthropic...` method.\nWe need to summarize functionality of the code snippet. Provide business logic, inputs, outputs. Use Chinese. No intro phrase. Just start with summary. Let's craft. The code is part of instructor/function_calls.py. It defines a class method parse_anthropic_tools on a BaseModel subclass. It takes a ChatCompletion (Anthropic Message), optional validation_context, strict flag. It checks for incomplete output (max_tokens stop reason) and raises IncompleteOutputException. It extracts tool_use content, serializes to JSON, validates that there is exactly one tool call using TypeAdapter with list length 1, then validates JSON against the model schema and returns an instance of the model. So business logic: parse tool calls from Anthropic response, convert to model instance, raise exception if incomplete. Input: completion object, optional context, strict. Output: model instance.\n\nLet's produce Chinese summary.assistantfinal\u89e3\u6790 Anthropic \u5de5\u5177\u8c03\u7528\u7684\u4e1a\u52a1\u903b\u8f91  \n- **\u8f93\u5165**\uff1a`completion`\uff08Anthropic `Message` \u7c7b\u578b\u7684\u804a\u5929\u5b8c\u6210\u5bf9\u8c61\uff09\uff0c\u53ef\u9009\u7684 `validation_context`\uff08\u7528\u4e8e\u6a21\u578b\u6821\u9a8c\u7684\u4e0a\u4e0b\u6587\u5b57\u5178\uff09\uff0c\u4ee5\u53ca\u53ef\u9009\u7684 `strict` \u6807\u5fd7\uff08\u51b3\u5b9a\u662f\u5426\u4e25\u683c\u6821\u9a8c\uff09\u3002  \n- **\u5904\u7406\u6d41\u7a0b**\uff1a  \n  1. \u82e5 `completion` \u4e3a `Message` \u4e14 `stop_reason` \u4e3a `\"max_tokens\"`\uff0c\u8bf4\u660e\u8fd4\u56de\u88ab\u622a\u65ad\uff0c\u629b\u51fa `IncompleteOutputException` \u5e76\u643a\u5e26\u6700\u540e\u4e00\u6b21\u7684 `completion`\u3002  \n  2. \u4ece `completion.content` \u4e2d\u7b5b\u9009 `type` \u4e3a `\"tool_use\"` \u7684\u6761\u76ee\uff0c\u53d6\u5176 `input` \u5b57\u6bb5\u5e76\u4f7f\u7528 `json.dumps` \u5e8f\u5217\u5316\u4e3a JSON \u5b57\u7b26\u4e32\uff0c\u5f62\u6210 `tool_calls` \u5217\u8868\u3002  \n  3. \u4f7f\u7528 `TypeAdapter` \u5bf9 `tool_calls` \u8fdb\u884c\u6821\u9a8c\uff0c\u8981\u6c42\u5217\u8868\u957f\u5ea6\u6070\u597d\u4e3a 1\uff08`min_length=1, max_length=1`\uff09\uff0c\u5e76\u53d6\u51fa\u552f\u4e00\u7684 JSON \u5b57\u7b26\u4e32 `tool_call`\u3002  \n  4. \u8c03\u7528\u5f53\u524d\u6a21\u578b\u7c7b\u7684 `model_validate_json` \u65b9\u6cd5\uff0c\u5bf9 `tool_call` \u8fdb\u884c Pydantic \u6a21\u578b\u6821\u9a8c\uff08\u53ef\u4f7f\u7528 `validation_context` \u4e0e `strict` \u53c2\u6570\uff09\uff0c\u8fd4\u56de\u6a21\u578b\u5b9e\u4f8b\u3002  \n- **\u8f93\u51fa**\uff1a\u6210\u529f\u6821\u9a8c\u540e\u8fd4\u56de\u5bf9\u5e94\u7684 `BaseModel` \u5b50\u7c7b\u5b9e\u4f8b\uff1b\u82e5\u68c0\u6d4b\u5230\u8f93\u51fa\u4e0d\u5b8c\u6574\u5219\u629b\u51fa", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:45:36.708906"}