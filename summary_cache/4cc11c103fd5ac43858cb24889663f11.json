{"summary": "We need to summarize the functionality of the code snippet. The code is from aiohttp/web_fileresponse.py, defines FileResponse class. The snippet includes imports, constants, and a private async method _not_modified that handles HTTP 304 Not Modified response. The summary should focus on business logic, inputs, outputs.\n\nWe need to produce Chinese summary. Provide direct summary without \"This code does...\". So start with something like \"\u5b9e\u73b0\u6587\u4ef6\u54cd\u5e94...\" etc.\n\nLet's craft summary: It defines constants for MIME type detection, encoding extensions, fallback content type, additional content types. It defines a flag NOSENDFILE based on env var. It defines a type alias for callback on chunk sent. It defines async method _not_modified that sets response status to 304, disables length check, sets ETag and Last-Modified headers, removes Content-Length, and prepares the response for the request, returning a stream writer (or None). The method is part of FileResponse class (not shown) used to handle conditional GET requests.\n\nWe need to mention inputs: request object, etag_value (string), last_modified (float). Output: Optional[AbstractStreamWriter] (prepared response writer). Business logic: handling conditional GET, sending 304 Not Modified.\n\nAlso mention that the module imports many aiohttp components, defines MIME handling, etc.\n\nLet's produce final answer.assistantfinal\u5b9e\u73b0\u57fa\u4e8e aiohttp \u7684\u6587\u4ef6\u4e0b\u8f7d\u54cd\u5e94\uff08`FileResponse`\uff09\u7684\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\u3002  \n\n- **\u8f93\u5165**  \n  - `request: BaseRequest` \u2013 \u5ba2\u6237\u7aef\u7684 HTTP \u8bf7\u6c42\u5bf9\u8c61\u3002  \n  - `etag_value: str` \u2013 \u8d44\u6e90\u7684 ETag \u6807\u8bc6\uff0c\u7528\u4e8e\u7f13\u5b58\u6821\u9a8c\u3002  \n  - `last_modified: float` \u2013 \u8d44\u6e90\u7684\u6700\u540e\u4fee\u6539\u65f6\u95f4\u6233\uff08POSIX \u65f6\u95f4\uff09\u3002  \n\n- **\u5185\u90e8\u5904\u7406**  \n  - \u8bfb\u53d6\u73af\u5883\u53d8\u91cf `AIOHTTP_NOSENDFILE`\uff0c\u51b3\u5b9a\u662f\u5426\u7981\u7528\u5e95\u5c42 `sendfile` \u7cfb\u7edf\u8c03\u7528\u3002  \n  - \u4f7f\u7528 `mimetypes.MimeTypes` \u81ea\u52a8\u63a8\u65ad\u6587\u4ef6\u7684 MIME \u7c7b\u578b\uff1b\u82e5\u65e0\u6cd5\u8bc6\u522b\u5219\u56de\u9000\u4e3a `application/octet-stream`\u3002  \n  - \u7ef4\u62a4 `ENCODING_EXTENSIONS` \u4e0e `ADDITIONAL_CONTENT_TYPES` \u4e24\u5957\u6620\u5c04\uff0c\u7528\u4e8e\u8bc6\u522b\u538b\u7f29\u540e\u7f00\uff08`.gz`, `.br` \u7b49\uff09\u5e76\u8bbe\u7f6e\u5bf9\u5e94\u7684 `Content\u2011Encoding`\u3002  \n  - \u5b9a\u4e49 `_not_modified` \u5f02\u6b65\u79c1\u6709\u65b9\u6cd5\uff0c\u7528", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:36:31.414295"}