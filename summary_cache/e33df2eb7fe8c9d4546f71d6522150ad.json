{"summary": "- The `TopologicalSorter` class provides a topological sorting algorithm for directed acyclic graphs (DAG). \n- It uses a `prepare` method to initialize the graph.\n- The `add` method adds nodes and edges.\n- The `get_ready` method returns a set of nodes that are ready to be (the) \n```\n\n\nThe user gave a prompt: \"You are a senior code analyst. Summarize the functionality of the following code. Requirements: 1. Start directly with the summary content. No \"This code does...\" or \"Here is...\". 2. Focus on the business logic, inputs, and outputs. 3. Use Chinese (e.g., Chinese/English). Code: ...\" Then they gave a snippet of code from Lib/graphlib.py TopologicalSorter from types import GenericAlias __all__ = [\"TopologicalSorter\", \"CycleError\"] _NODE_OUT = -1 _NODE_DONE = -2 __class_getitem__ = classmethod(GenericAlias) def done(self, *nodes): ... etc. Then they gave a partial summary: \"Summary: - The `TopologicalSorter` class provides a topological sorting algorithm for directed acyclic graphs (DAG). - It uses a `prepare` method to initialize the graph. - The `add` method adds nodes and edges. - The `get_ready` method returns a set of nodes that are ready to be (the)\". The user likely wants a complete summary of the code snippet, focusing on business logic, inputs, outputs, in Chinese (or Chinese/English). They also require to start directly with the summary content, no \"This code does...\" etc. So we need to produce a summary in Chinese (maybe with some English terms) that describes the functionality of the TopologicalSorter class, especially the done method, its inputs (nodes), outputs (none, but side effects), and error handling. Also mention that it raises ValueError for various conditions. Also mention that it updates internal state: marks nodes as done, reduces predecessor counts of successors, adds ready successors to _ready_nodes, increments _nfinished. Also mention that it expects prepare() called before, and nodes must have been added via add(). Also mention that it returns nothing (void). Also mention that it is part of a topological sorting algorithm for DAGs, used to process nodes in order respecting dependencies.\n\nThe code snippet includes __class_getitem__ = classmethod(GenericAlias) which is for typing support. The __all__", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:54:08.724576"}