{"summary": "- The code defines a payload handling module for aiohttp, providing various payload classes (BytesPayload, StringPayload, etc.) and a registry for mapping data types to payload implementations.\n- It includes constants like TOO_LARGE_BYTES_BODY (1 MB) and default content type.\n- The Payload base class defines methods for preparing and sending data, handling content type, length, and encoding.\n- Payload subclasses implement specific handling for different data types (bytes, strings, file-like objects, JSON, async iterables).\n- The module also provides utility functions to get a payload instance based on the input data and to register/unregister etc.\nWe need to produce a summary in Chinese (or Chinese/English). Must start directly with the summary content, no preamble. Should focus on business logic, inputs, outputs. Provide concise description.\n\nThe code snippet is only part of file; but we can infer overall functionality. Provide summary: defines payload handling for aiohttp, registry, constants, base class, etc. Input: data to be sent in HTTP request/response; output: Payload object that can be streamed to writer, with content-type, length, encoding.\n\nLet's craft final answer.assistantfinal\u5b9e\u73b0 **aiohttp** \u8bf7\u6c42/\u54cd\u5e94\u4f53\u7684\u7edf\u4e00\u5c01\u88c5\u4e0e\u53d1\u9001\u3002  \n\n- **\u6838\u5fc3\u5bf9\u8c61**\uff1a`Payload` \u62bd\u8c61\u57fa\u7c7b\u53ca\u5176\u5b50\u7c7b\uff08`BytesPayload\u3001StringPayload\u3001IOBasePayload\u3001BytesIOPayload\u3001BufferedReaderPayload\u3001TextIOPayload\u3001StringIOPayload\u3001JsonPayload\u3001AsyncIterablePayload`\uff09\uff0c\u8d1f\u8d23\u628a\u4efb\u610f Python \u5bf9\u8c61\u8f6c\u6362\u4e3a\u53ef\u6d41\u5f0f\u5199\u5165 `AbstractStreamWriter` \u7684\u4e8c\u8fdb\u5236\u6570\u636e\u3002  \n- **\u6ce8\u518c\u8868**\uff1a`PAYLOAD_REGISTRY`\uff08`PayloadRegistry`\uff09\u7ef4\u62a4 **\u6570\u636e\u7c7b\u578b \u2192 Payload \u5b50\u7c7b** \u7684\u6620\u5c04\uff0c`payload_type` \u4e0e `get_payload` \u6839\u636e\u8f93\u5165\u5bf9\u8c61\u7684\u7c7b\u578b\u81ea\u52a8\u8fd4\u56de\u5bf9\u5e94\u7684 `Payload` \u5b9e\u4f8b\u3002  \n- **\u5e38\u91cf**\uff1a  \n  - `TOO_LARGE_BYTES_BODY = 2**20`\uff081\u202fMB\uff09\u7528\u4e8e\u5224\u65ad\u5927\u5757\u5b57\u8282\u4f53\u662f\u5426\u9700\u8981\u7279\u6b8a\u5904\u7406\u3002  \n  - `_default_content_type = \"application/octet-stream\"` \u4f5c\u4e3a\u672a\u6307\u5b9a\u65f6\u7684\u9ed8\u8ba4 `Content-Type`\u3002  \n- **\u4e1a\u52a1\u6d41\u7a0b**\uff1a  \n  1. **\u8f93\u5165**\uff1a\u4efb\u610f\u5bf9\u8c61\uff08bytes\u3001str\u3001file\u2011like\u3001JSON\u2011serializable\u3001async iterable \u7b49\uff09\u4ee5\u53ca\u53ef\u9009\u7684 `content_type`\u3001`charset`\u3001`", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:52:52.724992"}