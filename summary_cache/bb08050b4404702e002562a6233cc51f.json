{"summary": "- Function `retry_sync` implements a retry mechanism for synchronous functions, handling validation and parsing errors.\n- Input parameters include the target function `func`, optional response model `response_model`, arguments `args` and `kwargs`, optional context, retry configuration `max_retries`, strict mode flag `strict`, operation mode `mode`, and optional hooks for event emission.\n- It initializes usage tracking and retry settings, then attempts to execute `func` within a retry loop.\n- On each attempt, it logs the attempt, emits completion arguments via hooks, calls `func`, emits the response, updates usage stats, and processes the response using `process_response`.\n- If a `ValidationError` or `JSONDecodeError` occurs, it logs the parse error, emits a parse error event, adjusts kwargs for re-asking (using `handle_reask_kwargs`), and raises the exception to trigger a retry.\n- If all retries fail, it raises `InstructorRetryException` with details about the last exception, the last response, attempt count, and usage statistics.\n- Output: Returns a validated and processed response model instance or None if no model is provided.\nThe user wants a summary of the functionality of the code, focusing on business logic, inputs, outputs, in Chinese (or Chinese/English). Must start directly with the summary content, no \"This code does...\" or \"Here is...\". So we need to produce a concise summary in Chinese, maybe with some English terms. Should mention that it's a retry mechanism for synchronous functions, handling validation errors, usage tracking, hooks, etc. Provide inputs and outputs. Should be in Chinese. Let's craft.\n\nWe need to ensure we follow requirement: start directly with the summary content. So no preamble. Provide summary.\n\nLet's produce.assistantfinal\u5b9e\u73b0\u5bf9\u540c\u6b65\u51fd\u6570\u7684\u81ea\u52a8\u91cd\u8bd5\u5e76\u5728\u6210\u529f\u540e\u8fd4\u56de\u7ecf\u8fc7\u6a21\u578b\u6821\u9a8c\u7684\u7ed3\u679c\u3002  \n\n**\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91**  \n1. **\u521d\u59cb\u5316**  \n   - \u6839\u636e `mode` \u521b\u5efa\u7d2f\u8ba1 token \u4f7f\u7528\u7edf\u8ba1 (`total_usage`)\u3002  \n   - \u5c06 `max_retries` \u8f6c\u6362\u4e3a `tenacity.Retrying` \u5b9e\u4f8b\uff08\u540c\u6b65\u7248\uff09\u3002  \n   - \u82e5\u672a\u63d0\u4f9b `hooks`\uff0c\u4f7f\u7528\u9ed8\u8ba4 `Hooks` \u5bf9\u8c61\u3002  \n\n2. **\u91cd\u8bd5\u5faa\u73af**\uff08`for attempt in max_retries`\uff09  \n   - \u8bb0\u5f55\u5f53\u524d\u5c1d\u8bd5\u6b21\u6570\u5e76\u901a\u8fc7 `hooks.emit_completion_arguments` \u628a\u8c03\u7528\u53c2\u6570\u5e7f\u64ad\u3002  \n   - \u8c03\u7528\u76ee\u6807\u51fd\u6570 `func(*args, **", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:39:07.734087"}