{"summary": "We have a code snippet from a Python module `instructor/dsl/partial.py`. It defines a class `PartialBase` (presumably) that inherits from `BaseModel` (maybe). The snippet includes imports and a generic type variable `T_Model` bound to `BaseModel`. The method `from_streaming_response_async` is a class method that takes a streaming async generator `completion` (like an async iterator) and a `Mode` enum, plus additional kwargs.\n\nThe method extracts JSON JSON? It uses `cls.extract_json_async` to get JSON chunks (maybe from the streaming response). Then based on the mode:\n\n- If mode is `Mode.MD_JSON`, it calls `extract_json_from_stream_async` to further parse the JSON chunks.\n- If mode is `Mode.WRITER_TOTOOLS...` (maybe `WRITER_TOOLS`), it returns `cls.writer_model_from_chunks_async(...)`.\n- Otherwise, it returns `cls.model_from_chunks_async(...)`.\n\nThus, the business logic: It processes a streaming response, extracts JSON, optionally filters based on mode, and yields model instances.\n\nThe output: An async generator yielding `T_Model` instances (or maybe a writer model). The input: async generator of raw response chunks, a mode enum, and optional kwargs.\n\nWe need to produce a summary in Chinese, focusing on business logic, inputs, outputs. No \"This code does...\" etc. So we can start directly: \"\u4ece\u6d41\u5f0f\u54cd\u5e94\u4e2d\u63d0\u53d6 JSON \u5e76\u6839\u636e Mode \u8f6c\u6362\u4e3a\u6a21\u578b\u5b9e\u4f8b\uff0c\u8fd4\u56de AsyncGenerator...\"\n\nLet's produce final answer.assistantfinal\u4ece\u6d41\u5f0f\u5f02\u6b65\u751f\u6210\u5668 `completion` \u4e2d\u9010\u5757\u63d0\u53d6 JSON \u6570\u636e\uff08`cls.extract_json_async`\uff09\uff0c\u968f\u540e\u4f9d\u636e `mode` \u8fdb\u884c\u4e0d\u540c\u7684\u540e\u5904\u7406\uff1a  \n- `Mode.MD_JSON`\uff1a\u4f7f\u7528 `extract_json_from_stream_async` \u8fdb\u4e00\u6b65\u8fc7\u6ee4/\u89e3\u6790 JSON \u5757\uff1b  \n- `Mode.WRITER_TOOLS`\uff1a\u5c06 JSON \u5757\u76f4\u63a5\u8f6c\u6362\u4e3a\u5199\u5165\u5668\u6a21\u578b\uff0c\u8fd4\u56de `cls.writer_model_from_chunks_async` \u7684\u5f02\u6b65\u751f\u6210\u5668\uff1b  \n- \u5176\u4ed6\u6a21\u5f0f\uff1a\u8c03\u7528 `cls.model_from_chunks_async` \u5c06 JSON \u5757\u6620\u5c04\u4e3a\u666e\u901a Pydantic \u6a21\u578b\u3002  \n\n\u6700\u7ec8\u8f93\u51fa\u4e3a `AsyncGenerator[T_Model, None]`\uff0c\u5373\u6309\u5757\u4ea7\u751f\u7684\u6a21\u578b\u5b9e\u4f8b\uff08\u6216\u5199\u5165\u5668\u6a21\u578b\uff09\uff0c\u8f93\u5165\u4e3a\u539f\u59cb\u6d41\u5f0f\u54cd\u5e94\u3001\u5904\u7406\u6a21\u5f0f\u4ee5\u53ca\u53ef\u9009\u7684\u5173\u952e\u5b57\u53c2\u6570\u3002", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:57:09.237913"}