{"summary": "- This module defines a function `handle_cerebras_tools` that processes a response model and additional keyword arguments for Cerebras tool calling.\n- It checks if streaming is enabled, raising an error if it is.\n- It adds a tool definition to the `tools` list in the new_kwargs.\n- It sets the `type` and `name` of the function to be used.\n- The function returns a tuple of the original response model and the modified `new_kwargs` dictionary.\nWe need to produce a summary in Chinese (or Chinese/English) focusing on business logic, inputs, outputs. No \"This code does...\" etc. Must start directly with summary content. So we need to summarize the functionality of the provided code snippet. The code includes imports, definitions, and the function handle_cerebras_tools. The summary should mention that the module provides utilities for handling OpenAI tool calls, especially for Cerebras integration, and the function modifies kwargs to include tool definitions based on a Pydantic response model, validates streaming not allowed, returns modified arguments.\n\nWe need to follow the requirement: start directly with the summary content, no preamble. So start with something like:\n\n\"\u529f\u80fd\u6982\u8ff0\uff1a...\". Provide Chinese description. Also mention inputs: response_model (type subclass of BaseModel) and new_kwargs (dict). Output: tuple (type[T], dict). Business logic: check stream flag, raise error, add tool definition using response_model.openai_schema, set tool_choice, return.\n\nLet's produce.assistantfinal\u529f\u80fd\u6982\u8ff0  \n- \u63d0\u4f9b `handle_cerebras_tools`\uff0c\u7528\u4e8e\u5728\u8c03\u7528 Cerebras\uff08\u6216\u517c\u5bb9 OpenAI\uff09\u5de5\u5177\u65f6\uff0c\u81ea\u52a8\u6784\u9020\u5e76\u6ce8\u5165\u5de5\u5177\u63cf\u8ff0\u3002  \n- **\u8f93\u5165**  \n  1. `response_model: type[T]` \u2013 \u7ee7\u627f\u81ea `pydantic.BaseModel` \u7684\u54cd\u5e94\u6a21\u578b\uff0c\u5fc5\u987b\u5b9e\u73b0 `openai_schema`\uff08OpenAI \u51fd\u6570\u8c03\u7528\u7684 JSON \u63cf\u8ff0\uff09\u3002  \n  2. `new_kwargs: dict[str, Any]` \u2013 \u8c03\u7528 OpenAI \u63a5\u53e3\u65f6\u7684\u5173\u952e\u5b57\u53c2\u6570\u96c6\u5408\uff0c\u53ef\u80fd\u5305\u542b `stream`\u3001`tools`\u3001`tool_choice` \u7b49\u3002  \n- **\u4e1a\u52a1\u903b\u8f91**  \n  1. \u68c0\u67e5 `new_kwargs` \u4e2d\u7684 `stream` \u6807\u5fd7\uff0c\u82e5\u4e3a `True` \u629b\u51fa `ValueError`\uff0c\u56e0\u4e3a Cerebras \u4e0d\u652f\u6301\u6d41\u5f0f\u8fd4\u56de\u3002  \n  2. \u5728 `new_kwargs[\"tools\"]` \u4e2d", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:44:38.103702"}