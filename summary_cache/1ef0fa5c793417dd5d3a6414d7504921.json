{"summary": "- The function `update_gemini_kwargs` takes a dictionary `kwargs` as input, which contains arguments for a Gemini model request.\n- It checks whether the key `generation_config` contains a set of specific parameters (like `max_tokens`, `temperature`, etc.) and then converts them into the corresponding Gemini format.\n- It also transforms the `messages` (or `prompt`) into a `contents` format that is required by Gemini.\n- The function also includes a set of safety safety (like `Harm` etc.) settings.\n- The function ```````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````\n\n\u5c06\u8f93\u5165\u7684 `kwargs` \u5b57\u5178\u8f6c\u6362\u4e3a\u9002\u914d Gemini \u6a21\u578b\u7684\u8bf7\u6c42\u53c2\u6570\u3002\u9996\u5148\u68c0\u67e5 `generation_config` \u4e2d\u7684 OpenAI \u53c2\u6570\uff08\u5982 `max_tokens`\u3001`temperature`\u3001`n`\u3001`top_p`\u3001`stop`\uff09\uff0c\u6620\u5c04\u4e3a Gemini \u5bf9\u5e94\u7684\u952e\u5e76\u66f4\u65b0\u3002\u968f\u540e\u5c06 `messages` \u8f6c\u6362\u4e3a Gemini \u6240\u9700\u7684 `contents` \u683c\u5f0f\u3002\u6700\u540e\u4e3a Gemini \u8bbe\u7f6e\u5b89\u5168\u9608\u503c\uff0c\u82e5\u672a\u63d0\u4f9b\u6216\u9608\u503c\u4f4e\u4e8e\u9ed8\u8ba4\u7684\u9ad8\u98ce\u9669\u963b\u65ad\u9608\u503c\uff0c\u5219\u4f7f\u7528 `HarmCategory` \u7684 `BLOCK_ONLY_HIGH` \u8fdb\u884c\u8986\u76d6\u3002\u8fd4\u56de\u5904\u7406\u540e\u7684\u53c2\u6570\u5b57\u5178\u3002", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:40:30.415226"}