{"summary": "The code defines a module `reprlib` that provides a custom string representation utility. It imports `builtins` and `the` `islice` function from `...` etc... The `Repr` class is defined... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ...\n\nWe need to summarize the functionality of the given code snippet. The snippet is:\n\n```\nLib/reprlib.py __all__ = [\"Repr\", \"repr\", \"recursive_repr\"] import builtins from itertools import islice from _thread import get_ident aRepr = Repr() repr = aRepr.repr         def wrapper(self):\n            key = id(self), get_ident()\n            if key in repr_running:\n                return fillvalue\n            repr_running.add(key)\n            try:\n                result = user_function(self)\n            finally:\n                repr_running.discard(key)\n            return result\n```\n\nWe need to produce a summary in Chinese (or Chinese/English). The summary should start directly with the content, no \"This code does...\" etc. Should focus on business logic, inputs, outputs. So we need to describe that this module defines a custom representation utility, provides Repr class, a global instance aRepr, a function repr that calls aRepr.repr, and defines a decorator wrapper for recursive representation detection using thread ID and object id to avoid infinite recursion, returning fillvalue when recursion detected. The wrapper expects a user_function and fillvalue defined elsewhere. It uses a global set repr_running to track currently processing objects.\n\nWe need to mention inputs: the wrapper takes self (the object to represent). It uses get_ident to get thread ID, id(self) to get object ID, checks if key in repr_running. Output: returns either fillvalue (string placeholder) or result of user_function(self). The module's __all__ exports Repr, repr, recursive_repr.\n\nThus produce a concise Chinese summary.\n\nLet's write:\n\n\"\u63d0\u4f9b\u81ea\u5b9a\u4e49\u5bf9\u8c61\u7684\u5b57\u7b26\u4e32\u8868\u793a\u529f\u80fd\uff0c\u5b9a\u4e49 Repr \u7c7b\u5e76\u521b\u5efa\u5168\u5c40\u5b9e\u4f8b aRepr\uff0c\u5bfc\u51fa\u51fd\u6570 repr = aRepr.repr \u7528\u4e8e\u751f\u6210\u53d7\u9650\u957f\u5ea6\u7684\u8868\u793a\u3002\u5b9e\u73b0 recursive_repr \u88c5\u9970\u5668\uff08wrapper\uff09\uff0c\u5728\u8c03\u7528\u7528\u6237\u7684\u8868\u793a\u51fd\u6570\u524d", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:46:52.398702"}