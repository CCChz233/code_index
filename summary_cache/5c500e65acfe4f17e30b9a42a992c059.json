{"summary": "The code defines a `ClientSession` class in the `aiohttp` library, which provides an asynchronous HTTP client for making requests and handling responses. It includes various imports, exception handling, and configuration options. The class has properties and methods for managing connections, handling cookies, setting default headers, and handling timeouts. It also supports WebSocket connections and provides a context manager for request handling. The `closed` property indicates whether the client session is closed. The code also defines various constants and type aliases used throughout the module.\n\n\u63d0\u4f9b\u4e00\u4e2a\u5f02\u6b65HTTP\u5ba2\u6237\u7aef\u7684\u5b9e\u73b0\uff0c\u652f\u6301GET\u3001POST\u3001PUT\u3001DELETE\u7b49\u5e38\u7528\u8bf7\u6c42\u65b9\u6cd5\uff0c\u80fd\u591f\u81ea\u52a8\u5904\u7406\u8bf7\u6c42\u5934\u3001\u8bf7\u6c42\u4f53\u3001\u54cd\u5e94\u4f53\u4ee5\u53ca\u9519\u8bef\u5904\u7406\u3002\n\n\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f7f\u7528 `aiohttp` \u5e93\u5b9e\u73b0\u7684\u5f02\u6b65 HTTP \u5ba2\u6237\u7aef\u793a\u4f8b\uff0c\u652f\u6301\u5e38\u89c1\u7684 HTTP \u65b9\u6cd5\uff08GET\u3001POST\u3001PUT\u3001DELETE\uff09\uff0c\u5e76\u81ea\u52a8\u5904\u7406\u8bf7\u6c42\u5934\u3001\u8bf7\u6c42\u4f53\u3001\u54cd\u5e94\u4f53\u4ee5\u53ca\u9519\u8bef\u5904\u7406\u3002\u6b64\u793a\u4f8b\u5305\u62ec\u4e00\u4e2a `AsyncHttpClient` \u7c7b\uff0c\u5c01\u88c5\u4e86\u57fa\u672c\u7684\u8bf7\u6c42\u529f\u80fd\uff0c\u5e76\u63d0\u4f9b\u4e86\u9519\u8bef\u5904\u7406\u548c\u54cd\u5e94\u89e3\u6790\u7684\u673a\u5236\u3002\n\n```python\nimport aiohttp\nimport asyncio\nfrom aiohttp import ClientResponseError, ClientConnectionError, ClientTimeout\n\nclass AsyncHttpClient:\n    def __init__(self, base_url=None, timeout=30):\n        self.base_url = base_url\n        self.timeout = ClientTimeout(total=timeout)\n        self.session = aiohttp.ClientSession(timeout=self.timeout)\n\n    async def request(self, method, url, **kwargs):\n        full_url = self.base_url + url if self.base_url else url\n        try:\n            async with self.session.request(method, full_url, **kwargs) as response:\n                response.raise_for_status()  # Raise exception for HTTP errors\n                # Try to parse JSON response, fallback to text if not JSON\n                try:\n                    return await response.json()\n                except aiohttp.ContentTypeError:\n                    return await response.text()\n        except ClientResponseError as e:\n            print(f\"HTTP error: {e.status} - {e.message}\")\n            raise\n        except ClientConnectionError as e:\n            print(f\"Connection error: {e}\")\n            raise\n        except asyncio.TimeoutError:\n            print(\"Request timed out\")\n            raise\n\n    async def get(self, url, **kwargs):\n        return await self.request('GET', url, **kwargs)\n\n    async def post(self, url, data=None, json=None, **kwargs):\n        return await self", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:45:54.697025"}