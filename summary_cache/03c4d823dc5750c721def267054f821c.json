{"summary": "The provided code defines a module for handling various payload types in an asynchronous HTTP client/server framework (aiohttp). It includes:\nWe need to produce summary directly, no preamble. Focus on business logic, inputs, outputs. Chinese/English mix okay. Provide summary of functionality of the code snippet. The snippet includes imports, definitions, constants, registry, and a class StringPayload __init__ method. So summarize that this module defines payload handling, registry, and StringPayload class that encodes string to bytes based on encoding and content_type, defaulting to utf-8, etc. Provide inputs: value string, optional encoding, content_type. Output: instance of Payload with encoded bytes and appropriate headers. Also mention constants like TOO_LARGE_BYTES_BODY. Provide business logic: determines real encoding, sets content_type header, encodes string, calls super init. Also mention registry and get_payload functions (though not shown). Provide Chinese description. Let's craft.assistantfinal\u5b9e\u73b0\u5bf9 HTTP \u8bf7\u6c42/\u54cd\u5e94\u4f53\u7684\u7edf\u4e00\u5c01\u88c5\u4e0e\u7ba1\u7406\u3002  \n\n**\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91**  \n- \u901a\u8fc7 `PAYLOAD_REGISTRY`\uff08\u5168\u5c40\u6ce8\u518c\u8868\uff09\u7ef4\u62a4\u4e0d\u540c\u6570\u636e\u7c7b\u578b\u5bf9\u5e94\u7684 `Payload` \u5b50\u7c7b\uff0c\u5b9e\u73b0 \u201ctype \u2192 payload\u201d \u7684\u6620\u5c04\uff0c\u4f9b `get_payload`\u3001`payload_type` \u7b49\u5de5\u5382\u51fd\u6570\u52a8\u6001\u521b\u5efa\u5408\u9002\u7684 payload\u3002  \n- `StringPayload` \u8d1f\u8d23\u628a **\u5b57\u7b26\u4e32** \u8f6c\u6362\u4e3a **\u5b57\u8282\u6d41** \u5e76\u751f\u6210\u76f8\u5e94\u7684 `Content-Type` \u5934\u3002  \n  1. \u63a5\u6536 `value: str`\u3001\u53ef\u9009 `encoding`\u3001`content_type` \u4ee5\u53ca\u5176\u5b83 `Payload` \u57fa\u7c7b\u53c2\u6570\u3002  \n  2. \u82e5\u672a\u663e\u5f0f\u63d0\u4f9b `encoding`\uff0c\u5219\u4ece `content_type` \u7684 charset \u53c2\u6570\u89e3\u6790\uff1b\u82e5\u4e24\u8005\u5747\u7f3a\u7701\uff0c\u9ed8\u8ba4\u4f7f\u7528 `utf-8` \u5e76\u81ea\u52a8\u8865\u5168 `content_type` \u4e3a `text/plain; charset=utf-8`\u3002  \n  3. \u82e5\u4ec5\u63d0\u4f9b `encoding` \u800c\u672a\u63d0\u4f9b `content_type`\uff0c\u5219\u6784\u9020 `text/plain; charset=<encoding>`\u3002  \n  4. \u4f7f\u7528\u786e\u5b9a\u7684 `real_encoding` \u5c06\u5b57\u7b26\u4e32 `value` \u7f16\u7801\u4e3a `bytes`\uff0c\u5e76\u628a\u7f16\u7801\u4fe1\u606f\u3001`content_type` \u4ee5\u53ca\u7236\u7c7b\u6240\u9700\u7684\u5176\u4f59\u53c2\u6570\u4f20\u9012\u7ed9 `Payload` \u57fa\u7c7b\u7684\u6784\u9020\u51fd\u6570\u3002  \n\n**\u8f93\u5165**  \n- `value`\uff08\u5fc5\u586b\uff09\uff1a\u5f85\u53d1\u9001\u7684\u6587\u672c\u5185\u5bb9\u3002  \n- `", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:53:25.679920"}