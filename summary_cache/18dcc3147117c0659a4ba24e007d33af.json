{"summary": "- This module defines a payload handling system for aiohttp, providing various payload classes (BytesPayload, StringPayload, etc.) to encapsulate different data types (bytes, strings, file-like objects, JSON, async iterables) for HTTP requests/responses.\n- It registers each payload type in a global registry (PAYLOAD_REGISTRY) for dynamic lookup based on input data.\n- Core functions include `get_payload` to create an appropriate payload instance from a given input, and `payload_type` to determine the payload class for a specific type.\n- Payload classes inherit from an abstract base class `Payload`, which defines methods for preparing headers, setting content type, and streaming data via `write` (async). \n- The `Payload` base class also handles the content length (size) and optional `...` (e.g., `Content-Type` header). \n- The module imports various utilities and functions from aiohttp's internal helpers.\n- The module defines a constant `TOO_LARGE_BYTES_BODY` (1 MB) for handling large payloads.\nThe user wants a summary of the functionality of the code. Must start directly with the summary content, no \"This code does...\" etc. Must focus on business logic, inputs, outputs. Use Chinese (e.g., Chinese/English). So we need to produce a Chinese summary, maybe with some English terms. Provide details: payload handling system for aiohttp, classes, registry, functions, constants, etc. Provide inputs and outputs: functions accept data and return payload objects; payload objects produce headers and stream data.\n\nLet's craft a concise yet thorough summary.\n\nWe need to start directly with the summary content. So no intro line. Just start.\n\nLet's produce Chinese summary with some English terms.\n\nOk.assistantfinal\u5c01\u88c5\u4e86 aiohttp \u7684 **Payload** \u673a\u5236\uff0c\u8d1f\u8d23\u628a\u5404\u79cd\u4e1a\u52a1\u6570\u636e\u8f6c\u6362\u4e3a\u53ef\u5728 HTTP \u8bf7\u6c42/\u54cd\u5e94\u4e2d\u6d41\u5f0f\u53d1\u9001\u7684\u8d1f\u8f7d\u5bf9\u8c61\u3002  \n\n**\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91**  \n1. **Payload \u57fa\u7c7b**\uff08`Payload`\uff09\u5b9e\u73b0\u4e86\u7edf\u4e00\u7684\u63a5\u53e3\uff1a  \n   - `__init__(self, value, *, content_type=None, headers=None, encoding=None)` \u63a5\u6536\u4efb\u610f\u4e1a\u52a1\u6570\u636e `value`\uff0c\u53ef\u9009 `content_type`\u3001\u81ea\u5b9a\u4e49 `headers`\u3001\u5b57\u7b26\u7f16\u7801\u3002  \n   - `size` \u5c5e\u6027\u8fd4\u56de\u5185\u5bb9\u957f\u5ea6\uff08\u82e5\u53ef\u9884\u4f30\uff09\uff0c`headers` \u5c5e\u6027\u8fd4\u56de\u6700\u7ec8\u7684 HTTP \u5934\u90e8\uff08\u5305\u62ec `Content-Type`\u3001`Content-Length`\u3001`Content-Disposition`", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:52:44.574865"}