{"summary": "The code defines a test case using pytest-asyncio for ****.\nWe need to summarize the functionality of the code. The code is a test file for a DSL partial model handling. It uses Pydantic BaseModel, defines a partial model, uses async generator to simulate streaming JSON chunks with leading whitespace. The test verifies that the Partial model correctly parses each chunk, handling whitespace and building up the model incrementally. It expects intermediate model states and final model. It uses instructor library's Partial class and Mode.TOOLS. It runs async test with model \"gpt-4o-mini\". The test ensures that whitespace is ignored and partial JSON is parsed correctly.\n\nWe need to output summary in Chinese (with maybe some English). No \"This code does...\" etc. Just start directly with summary content.\n\nLet's produce a concise summary.assistantfinal\u8be5\u6d4b\u8bd5\u4f7f\u7528 **pytest\u2011asyncio** \u9a8c\u8bc1 `instructor.dsl.partial.Partial` \u5728\u5f02\u6b65\u6d41\u5f0f\u8f93\u5165\u4e0b\u7684\u589e\u91cf\u89e3\u6790\u80fd\u529b\u3002  \n- **\u8f93\u5165**\uff1a\u4e00\u4e2a\u5f02\u6b65\u751f\u6210\u5668 `async_generator`\uff0c\u4f9d\u6b21\u8f93\u51fa\u56db\u6bb5\u5b57\u7b26\u4e32\uff0c\u5176\u4e2d\u524d\u4e09\u6bb5\u4ec5\u5305\u542b\u6362\u884c\u3001\u5236\u8868\u7b26\u6216\u7a7a\u683c\u7b49\u524d\u7f6e\u7a7a\u767d\uff0c\u6700\u540e\u4e00\u6bb5\u4e3a\u5408\u6cd5\u7684 JSON \u7247\u6bb5 `{\"b\": {\"b\": 1}}`\u3002  \n- **\u4e1a\u52a1\u903b\u8f91**\uff1a`Partial[SamplePartial]` \u6839\u636e\u6a21\u578b\u5b9a\u4e49\uff08`SamplePartial` \u7ee7\u627f\u81ea `BaseModel`\uff0c\u5305\u542b\u5b57\u6bb5 `a: Optional[int]` \u4e0e `b: dict`\uff09\u9010\u5757\u89e3\u6790\u6d41\u5f0f\u6570\u636e\u3002\u6bcf\u6b21\u8bfb\u53d6\u4e00\u4e2a chunk \u65f6\uff0c\u5185\u90e8\u4f1a\u5c1d\u8bd5\u5408\u5e76\u5df2\u6709\u7684 JSON \u5185\u5bb9\u5e76\u751f\u6210\u5bf9\u5e94\u7684 Pydantic \u5b9e\u4f8b\uff1b\u82e5\u4ec5\u662f\u7a7a\u767d\u5b57\u7b26\uff0c\u5219\u4fdd\u6301\u5f53\u524d\u6a21\u578b\u72b6\u6001\u4e0d\u53d8\u3002  \n- **\u8f93\u51fa**\uff1a\u5728 `async for` \u5faa\u73af\u4e2d\uff0c`model.model_dump()` \u7684\u7ed3\u679c\u4f9d\u6b21\u5e94\u4e3a  \n  1. `{\"a\": None, \"b\": {}}`  \n  2. `{\"a\": None, \"b\": {}}`  \n  3. `{\"a\": None, \"b\": {}}`  \n  4. `{\"a\": None, \"b\": {\"b\": 1}}`  \n  \u5faa\u73af\u7ed3\u675f\u540e\u518d\u6b21\u65ad\u8a00\u6700\u7ec8\u6a21\u578b\u4e3a `{\"a\": None, \"b\": {\"b\": 1}}`\u3002  \n\n\u901a\u8fc7\u8be5\u6d4b\u8bd5\u786e\u8ba4 `Partial` \u80fd\u6b63\u786e\u5ffd\u7565\u524d\u7f6e\u7a7a", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:59:22.779101"}