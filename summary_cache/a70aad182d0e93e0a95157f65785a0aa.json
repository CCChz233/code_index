{"summary": "The code defines a module for handling HTTP responses in an aiohttp web framework. It imports necessary libraries and defines constants, classes, and functions related to response handling. The main classes are `ContentCoding`, `StreamResponse`, `Response`, and `json_response`. The module provides functionality for setting and managing the content type, charset, and body of HTTP responses, including handling compression and encoding. The `text` setter method ensures that the provided text is a string, updates the content type if needed, and encodes the text into a byte array.\nThe user wants a summary of the functionality of the code. They gave a snippet of code from aiohttp/web_response.py. They gave a summary already but we need to produce a new summary that meets the requirements:\n\n1. Start directly with the summary content. No \"This code does...\" or \"Here is...\".\n2. Focus on the business logic, inputs, and outputs.\n3. Use Chinese (e.g., Chinese/English).\n\nSo we need to produce a Chinese summary (maybe with some English terms) describing the business logic, inputs, outputs. The code defines HTTP response handling for aiohttp. It includes imports, constants, classes, functions. The main classes: ContentCoding, StreamResponse, Response, json_response. It handles content type, charset, body, compression, encoding. The text setter ensures text is str, sets content_type to text/plain if default octet-stream, sets charset default utf-8, encodes to bytes, resets compressed_body.\n\nWe need to summarize the functionality: handling HTTP response creation, setting headers, cookies, compression, etc. Input: text string, content_type, charset, etc. Output: HTTP response object with proper headers, body bytes, possibly compressed.\n\nLet's produce a concise Chinese summary.\n\nWe need to start directly with the summary content, no preamble.\n\nLet's produce something like:\n\n\"\u8be5\u6a21\u5757\u5b9e\u73b0 aiohttp \u6846\u67b6\u7684 HTTP \u54cd\u5e94\u5bf9\u8c61\uff0c\u63d0\u4f9b `StreamResponse`\u3001`Response`\u3001`json_response` \u7b49\u7c7b\uff0c\u8d1f\u8d23\u6784\u9020\u3001\u7ba1\u7406\u548c\u53d1\u9001 HTTP \u54cd\u5e94\u3002\u4e3b\u8981\u4e1a\u52a1\u903b\u8f91\u5305\u62ec\uff1a...\"\n\nMake sure we mention inputs (e.g., text, json, payload) and outputs (HTTP response with headers, body). Also mention compression handling, content type, charset, etc.\n\nLet's produce final answer.assistantfinal\u5b9e\u73b0 aiohttp \u6846\u67b6\u7684 HTTP \u54cd\u5e94\u5bf9\u8c61\uff0c\u63d0\u4f9b `StreamResponse`\u3001`Response`\u3001`json_response` \u7b49\u7c7b\uff0c", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:57:37.741678"}