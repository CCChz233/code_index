{"summary": "The provided code defines a module for handling HTTP responses in an aiohttp library. \nWe need to summarize the functionality of the code snippet. The snippet is from aiohttp/web_response.py. It includes imports, definitions, constants, __all__, and a method _do_start_compression. The code defines ContentCoding, StreamResponse, Response, json_response. It defines REASON_PHRASES mapping HTTP status codes to phrases. It defines CONTENT_CODINGS mapping coding values to ContentCoding. It defines __slots__ for some attributes. Then defines async def _do_start_compression(self, coding: ContentCoding) -> None: It checks if response is chunked or body is a Payload; if so, calls super()._do_start_compression(coding). If coding != identity, it creates a ZLibCompressor with encoding, max_sync_chunk_size, executor. It asserts body not None. If executor size is None and body length > 1MB, warns about blocking event loop. Then compresses body: self._compressed_body = await compressor.compress(self._body) + compressor.flush(). Then sets headers: Content-Encoding and Content-Length accordingly.\n\nThus the business logic: compress response body if not chunked and not a Payload, using zlib compression, possibly async via executor. Input: coding (ContentCoding) and response body. Output: compressed body stored, headers updated.\n\nWe need to summarize in Chinese, focusing on business logic, inputs, outputs. No \"This code does...\" etc. Just start with summary content.\n\nLet's produce a concise summary.assistantfinal\u5b9e\u73b0 HTTP \u54cd\u5e94\u7684\u538b\u7f29\u5904\u7406\u3002  \n- \u8f93\u5165\uff1a`coding`\uff08ContentCoding \u679a\u4e3e\uff09\uff0c\u4ee5\u53ca\u54cd\u5e94\u5b9e\u4f8b\u5185\u90e8\u7684 `_body`\uff08\u539f\u59cb\u5b57\u8282\u4e32\u6216 Payload\uff09\u548c\u538b\u7f29\u76f8\u5173\u914d\u7f6e `_zlib_executor_size`\u3001`_zlib_executor`\u3002  \n- \u4e1a\u52a1\u903b\u8f91\uff1a  \n  1. \u82e5\u54cd\u5e94\u91c7\u7528\u5206\u5757\u4f20\u8f93\u6216 `_body` \u5df2\u662f `Payload`\uff0c\u76f4\u63a5\u59d4\u6258\u7236\u7c7b\u7684 `_do_start_compression`\u3002  \n  2. \u5426\u5219\u5728\u975e `identity` \u7f16\u7801\u4e0b\u521b\u5efa `ZLibCompressor`\uff0c\u6839\u636e `coding` \u8bbe\u7f6e\u538b\u7f29\u7b97\u6cd5\uff08\u5982 gzip\u3001deflate\uff09\uff0c\u5e76\u6839\u636e `zlib_executor_size` \u51b3\u5b9a\u662f\u5426\u4f7f\u7528\u7ebf\u7a0b\u6c60\u5f02\u6b65\u538b\u7f29\u3002  \n  3. \u5f53\u672a\u914d\u7f6e\u7ebf\u7a0b\u6c60\u4e14\u5f85\u538b\u7f29\u4f53\u79ef\u8d85\u8fc7 1\u202fMiB \u65f6\u53d1\u51fa\u8b66\u544a\uff0c\u63d0\u793a", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:57:58.234474"}