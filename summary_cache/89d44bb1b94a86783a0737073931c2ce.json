{"summary": "- The code defines a decorator function `decorator` that can be used to annotate an async async.\n- The code defines ****.\nWe need to summarize functionality of the code. Provide business logic, inputs, outputs. Use Chinese. No \"This code does...\" etc. Start directly with summary content. Provide Chinese/English. Let's craft.\n\nThe code is in instructor/validators.py. It imports Callable, Any, TypeVar, signature, ValidationInfo. Defines constants for async validator keys. Defines generic type variable T bound to Callable. Defines decorator function that takes a function, inspects its signature, checks parameters count and presence of \"info\" param of type ValidationInfo, sets attribute on function with key ASYNC_VALIDATOR_KEY containing (field_names, func, requires_validation_context) and returns function.\n\nBut note: field_names variable not defined in snippet; maybe from outer scope. The decorator expects to be used on async validator functions. It validates that the function signature matches expected pattern: either two parameters (value, maybe others) or three parameters where third is info of type ValidationInfo. If invalid, raises ValueError.\n\nOutputs: returns original function with added attribute.\n\nLet's produce summary in Chinese with some English terms.\n\nStart directly with summary. No preamble.\n\nLet's craft:\n\n\"\u5728 instructor/validators.py \u4e2d\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7528\u4e8e\u6807\u8bb0\u5f02\u6b65\u6821\u9a8c\u51fd\u6570\u7684\u88c5\u9970\u5668 `decorator`\u3002\u8be5\u88c5\u9970\u5668\u63a5\u53d7\u4efb\u610f\u53ef\u8c03\u7528\u5bf9\u8c61 `func` \u4f5c\u4e3a\u8f93\u5165\uff0c\u5229\u7528 `inspect.signature` \u8bfb\u53d6\u5176\u53c2\u6570\u5217\u8868\u5e76\u6267\u884c\u4ee5\u4e0b\u4e1a\u52a1\u89c4\u5219\uff1a...\"\n\nProvide details.\n\nLet's write final answer.assistantfinal\u5728 **instructor/validators.py** \u4e2d\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7528\u4e8e\u6807\u8bb0\u5f02\u6b65\u6821\u9a8c\u51fd\u6570\u7684\u88c5\u9970\u5668 `decorator`\uff0c\u5176\u4e1a\u52a1\u903b\u8f91\u5982\u4e0b\uff1a\n\n- **\u8f93\u5165**\uff1a\u4efb\u610f\u53ef\u8c03\u7528\u5bf9\u8c61 `func`\uff08\u901a\u5e38\u662f\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u5f02\u6b65\u6821\u9a8c\u51fd\u6570\uff09\u3002  \n- **\u7b7e\u540d\u68c0\u67e5**\uff1a\u901a\u8fc7 `inspect.signature` \u83b7\u53d6 `func` \u7684\u53c2\u6570\u96c6\u5408 `params`\uff0c\u5224\u65ad\u53c2\u6570\u6570\u91cf\u662f\u5426\u4e3a 3\u3002  \n  - \u82e5\u4e3a 3\uff0c\u5fc5\u987b\u5305\u542b\u540d\u4e3a `info` \u7684\u53c2\u6570\uff0c\u4e14\u5176\u7c7b\u578b\u6ce8\u89e3\u5fc5\u987b\u662f `pydantic.ValidationInfo`\u3002\u5426\u5219\u629b\u51fa `ValueError`\uff0c\u63d0\u793a\u201cAsync validator can only have a value parameter and an optional info parameter\u201d\u6216\u201cAsync validator info parameter must be of type ValidationInfo\u201d\u3002  \n  - \u82e5\u53c2\u6570\u6570\u91cf\u4e0d\u662f 3\uff0c\u5219\u89c6\u4e3a\u4e0d\u9700\u8981", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:46:53.972330"}