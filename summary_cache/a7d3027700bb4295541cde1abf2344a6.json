{"summary": "- Defines a module `reprlib` with a `Repr` class instance `aRepr` and a `repr` function that uses this instance.\n- Provides `recursive_repr` decorator.\nWe need to produce summary in Chinese, focusing on business logic, inputs, outputs. Provide description of functionality: module defines Repr class (imported elsewhere) and a global instance aRepr; defines a function repr that delegates to aRepr.repr; defines recursive_repr decorator that prevents infinite recursion in __repr__ by tracking objects currently being represented per thread, returning fillvalue when recursion detected. Input: user function (repr method) and optional fillvalue; output: wrapper function that returns fillvalue on recursive call else original result. Also mention that wrapper preserves metadata. Provide Chinese. Let's craft.assistantfinal\u5b9e\u73b0\u5bf9\u8c61\u7684\u5b89\u5168\u5b57\u7b26\u4e32\u5316\uff08`repr`\uff09\u5e76\u9632\u6b62\u9012\u5f52\u5faa\u73af\uff1a\n\n- **\u5168\u5c40\u5b9e\u4f8b** `aRepr = Repr()`\uff08`Repr` \u5728\u540c\u6a21\u5757\u7684\u5176\u4ed6\u4f4d\u7f6e\u5b9e\u73b0\uff09\uff0c\u5e76\u628a\u5b83\u7684 `repr` \u65b9\u6cd5\u5bfc\u51fa\u4e3a\u6a21\u5757\u7ea7\u51fd\u6570 `repr`\uff0c\u4f9b\u5916\u90e8\u76f4\u63a5\u8c03\u7528 `repr(obj)`\uff0c\u8fd4\u56de\u5bf9\u8c61\u7684\u53ef\u8bfb\u5b57\u7b26\u4e32\u8868\u793a\u3002\n\n- **`recursive_repr` \u88c5\u9970\u5668**  \n  - \u53c2\u6570 `fillvalue`\uff08\u9ed8\u8ba4 `'...'`\uff09\u6307\u5b9a\u5728\u9012\u5f52\u8c03\u7528\u65f6\u8fd4\u56de\u7684\u5360\u4f4d\u5b57\u7b26\u4e32\u3002  \n  - \u88c5\u9970\u5668\u63a5\u53d7\u7528\u6237\u81ea\u5b9a\u4e49\u7684 `__repr__`\uff08\u6216\u5176\u4ed6\u8fd4\u56de\u5b57\u7b26\u4e32\u7684\uff09\u51fd\u6570 `user_function`\uff0c\u8fd4\u56de\u5305\u88c5\u51fd\u6570 `wrapper`\u3002  \n  - `wrapper` \u5728\u6bcf\u6b21\u8c03\u7528\u65f6\u6784\u9020\u952e `(id(self), get_ident())`\uff0c\u5176\u4e2d `id(self)` \u662f\u5bf9\u8c61\u552f\u4e00\u6807\u8bc6\uff0c`get_ident()` \u662f\u5f53\u524d\u7ebf\u7a0b ID\u3002  \n  - \u901a\u8fc7\u5168\u5c40\u96c6\u5408 `repr_running` \u8bb0\u5f55\u6b63\u5728\u8fdb\u884c `repr` \u7684\u5bf9\u8c61\u2011\u7ebf\u7a0b\u5bf9\uff1b\u82e5\u952e\u5df2\u5b58\u5728\uff0c\u8bf4\u660e\u51fa\u73b0\u9012\u5f52\uff0c\u76f4\u63a5\u8fd4\u56de `fillvalue`\uff1b\u5426\u5219\u52a0\u5165\u96c6\u5408\u3001\u6267\u884c\u539f\u51fd\u6570\u3001\u6700\u540e\u65e0\u8bba\u6210\u529f\u4e0e\u5426\u90fd\u5c06\u952e\u79fb\u9664\u3002  \n  - \u5305\u88c5\u51fd\u6570\u4fdd\u7559\u539f\u51fd\u6570\u7684 `__module__\u3001__doc__\u3001__name__\u3001__qualname__\u3001__annotations__` \u7b49\u5143\u6570\u636e\uff0c\u4ee5\u514d\u7834\u574f\u6587\u6863\u548c\u8c03\u8bd5\u4fe1\u606f\u3002\n\n**\u8f93\u5165**\uff1a  \n1. `fillvalue`\uff08\u53ef\u9009\uff09\uff0c\u9012\u5f52\u68c0\u6d4b\u5230\u65f6\u7684\u8fd4\u56de\u5360\u4f4d\u3002  \n2. \u88ab\u88c5\u9970\u7684 `user_function(self)`", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:46:44.022075"}