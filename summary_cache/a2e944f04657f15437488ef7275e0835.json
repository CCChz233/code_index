{"summary": "We need to summarize functionality of code snippet. The code is from aiohttp/payload.py. It defines JsonPayload class that inherits from Payload (presumably). It imports many modules. It defines constants, registry, etc. The snippet only shows part of JsonPayload __init__ method. So we need to summarize overall functionality of the file: payload handling for aiohttp, converting various data types to HTTP request bodies, with registry to map types to payload classes, providing get_payload function, etc. Provide business logic: converting Python objects to appropriate HTTP payloads, handling content type, encoding, streaming, etc. Input: value, encoding, content_type, dumps function. Output: a Payload object that can be streamed as HTTP body, with appropriate headers.\n\nLet's craft summary in Chinese, focusing on business logic, inputs, outputs. No \"This code does\". Just start with summary. Use Chinese/English mixture maybe. Provide details: registry, payload types, etc.\n\nLet's produce final answer.assistantfinal\u5b9e\u73b0\u4e86 aiohttp \u8bf7\u6c42/\u54cd\u5e94\u4f53\u7684\u7edf\u4e00\u5c01\u88c5\u4e0e\u81ea\u52a8\u8f6c\u6362\u673a\u5236\u3002\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\u5982\u4e0b\uff1a\n\n1. **Payload \u6ce8\u518c\u8868**  \n   - `PAYLOAD_REGISTRY`\uff08`PayloadRegistry` \u5b9e\u4f8b\uff09\u7ef4\u62a4\u4e00\u5f20 **type \u2192 Payload \u5b50\u7c7b** \u7684\u6620\u5c04\u8868\u3002  \n   - \u901a\u8fc7\u88c5\u9970\u5668 `@payload_type`\uff08\u5728\u6587\u4ef6\u5176\u4ed6\u4f4d\u7f6e\u5b9e\u73b0\uff09\u628a\u4e0d\u540c\u7684 Python \u6570\u636e\u7c7b\u578b\uff08\u5982 `bytes`, `str`, `IOBase`, `dict` \u7b49\uff09\u6ce8\u518c\u5230\u5bf9\u5e94\u7684 `Payload` \u5b50\u7c7b\uff0c\u5b9e\u73b0 **\u201c\u8f93\u5165\u5bf9\u8c61 \u2192 \u5408\u9002\u7684 Payload\u201d** \u7684\u81ea\u52a8\u9009\u62e9\u3002\n\n2. **\u7edf\u4e00\u5165\u53e3 `get_payload(value, *, encoding='utf-8', content_type=None, **kwargs)`**  \n   - \u63a5\u6536\u4efb\u610f\u5bf9\u8c61 `value`\uff0c\u4f9d\u636e\u5176\u7c7b\u578b\u5728\u6ce8\u518c\u8868\u4e2d\u67e5\u627e\u5339\u914d\u7684 `Payload` \u5b50\u7c7b\uff1b\u82e5\u672a\u627e\u5230\u5219\u56de\u9000\u5230 `BytesPayload`\u3002  \n   - \u8fd4\u56de\u4e00\u4e2a **\u53ef\u5199\u5165 HTTP \u6d88\u606f\u4f53\u7684 `Payload` \u5b9e\u4f8b**\uff0c\u8be5\u5b9e\u4f8b\u5df2\u7ecf\u8bbe\u7f6e\u597d `Content-Type`\u3001`Content-Length`\uff08\u82e5\u5df2\u77e5\uff09\u4ee5\u53ca\u5fc5\u8981\u7684 **\u6d41\u5f0f\u8bfb\u53d6** \u63a5\u53e3\u3002\n\n3. **Payload \u57fa\u7c7b `Payload`\uff08\u62bd\u8c61\uff09**  \n   - \u7ee7\u627f\u81ea `AbstractStreamWriter`\uff0c\u63d0\u4f9b `write(writer)`\u3001`write_eof(writer)`\u3001`size()`\u3001`content_type`\u3001`charset` \u7b49\u7edf\u4e00\u5c5e\u6027\u548c\u65b9\u6cd5\u3002", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:54:16.574920"}