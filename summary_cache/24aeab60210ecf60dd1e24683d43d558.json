{"summary": "- The code defines a function `convert_contents` that converts various content types (string, dictionary, Image, Audio, or a list of these) into a format suitable for different AI model modes (e.g., Anthropic, Gemini, OpenAI). \n- It handles the conversion based on the mode, raising errors for unsupported types or modes.\n- The function returns either a string or a list of dictionaries representing the converted content.\nThe user wants a summary of the functionality of the code, focusing on business logic, inputs, outputs, in Chinese (or Chinese/English). Must start directly with the summary content, no \"This code does...\" or \"Here is...\". So we need to produce a concise summary in Chinese, maybe with some English terms. Should mention that the code defines a function convert_contents, its inputs: contents (various types) and mode (Mode enum). It returns either a string or list of dicts. It processes content items, converting to appropriate format for different AI model modes (Anthropic, Gemini, OpenAI). It raises NotImplementedError for Gemini, ValueError for unsupported types. Also mentions handling of Image and Audio objects, converting via to_anthropic or to_openai methods. Also mentions that if contents is a string, returns directly. If it's a dict or Image/Audio, wraps into list. Then iterates, building list of dicts with type and text for strings, or using provided dict, or converting objects based on mode.\n\nWe should also mention that the code imports many modules but the core function is convert_contents.\n\nWe need to follow the requirement: start directly with the summary content, no \"This code does...\" etc. So start with something like \"\u529f\u80fd\u6982\u8ff0\uff1a...\". Provide Chinese description.\n\nLet's produce final answer.assistantfinal\u529f\u80fd\u6982\u8ff0  \n- **\u6838\u5fc3\u51fd\u6570** `convert_contents(contents, mode)`\uff1a\u6839\u636e\u6307\u5b9a\u7684\u6a21\u578b\u6a21\u5f0f\uff08`Mode` \u679a\u4e3e\uff09\u5c06\u591a\u79cd\u8f93\u5165\u5185\u5bb9\u7edf\u4e00\u8f6c\u6362\u4e3a\u6a21\u578b\u53ef\u63a5\u53d7\u7684\u683c\u5f0f\u3002  \n- **\u8f93\u5165**  \n  - `contents`\uff1a\u652f\u6301\u5355\u4e00\u5b57\u7b26\u4e32\u3001\u5b57\u5178\u3001`Image`\u3001`Audio` \u5b9e\u4f8b\uff0c\u6216\u4e0a\u8ff0\u7c7b\u578b\u7684\u5217\u8868\u3002  \n  - `mode`\uff1a\u6a21\u578b\u5de5\u4f5c\u6a21\u5f0f\uff0c\u53d6\u503c\u8303\u56f4\u5305\u62ec `Mode.ANTHROPIC_JSON`\u3001`Mode.ANTHROPIC_TOOLS`\u3001`Mode.GEMINI_JSON`\u3001`Mode.GEMINI_TOOLS`\u3001`Mode.OPENAI`\uff08\u7b49\uff09\u3002  \n- **", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:37:58.484880"}