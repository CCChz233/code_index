{"summary": "- The code defines a `ClientSession` class for making asynchronous HTTP requests using aiohttp.\n- It provides a `_request` method that handles various HTTP request parameters (like `method`, `url`, `params`, `data`, `json`, etc.) and performs \nThe user wants a summary of the functionality of the code. The requirements: start directly with the summary content, no \"This code does...\" or \"Here is...\". Focus on business logic, inputs, outputs. Use Chinese (e.g., Chinese/English). So we need to produce a Chinese summary (maybe with some English terms). The code is a large part of aiohttp client session, focusing on the _request method. We need to summarize the functionality: asynchronous HTTP client session, handling request building, headers, auth, cookies, proxy, timeout, redirects, retries, tracing, response handling, raising errors, returning ClientResponse or WebSocket response.\n\nWe need to mention inputs: method, URL, params, data, json, cookies, headers, auth, allow_redirects, max_redirects, compress, chunked, expect100, raise_for_status, read_until_eof, proxy, proxy_auth, timeout, ssl, server_hostname, proxy_headers, trace_request_ctx, read_bufsize, auto_decompress, max_line_size, max_field_size.\n\nOutputs: returns a ClientResponse (or ClientWebSocketResponse) object, with history of redirects, cookies updated, etc.\n\nBusiness logic: validation of session state, building URL, merging headers, handling auth, cookie jar, proxy resolution, timeout handling, creating request object, establishing connection via connector, sending request, handling response, processing redirects (including method changes, auth stripping, header adjustments), handling errors, tracing events, raising for status, cleaning up resources.\n\nWe need to produce a concise but thorough summary in Chinese.\n\nLet's craft the answer. Ensure we start directly with the summary content, no preamble. Use Chinese. Possibly include bullet points.\n\nLet's produce.assistantfinal- **\u6838\u5fc3\u529f\u80fd**\uff1a\u5b9e\u73b0\u57fa\u4e8e `aiohttp` \u7684\u5f02\u6b65 HTTP \u5ba2\u6237\u7aef\u4f1a\u8bdd `ClientSession`\uff0c\u901a\u8fc7 `_request` \u65b9\u6cd5\u5b8c\u6210\u4e00\u6b21\u5b8c\u6574\u7684 HTTP/HTTPS\uff08\u4ee5\u53ca WebSocket\uff09\u8bf7\u6c42\u7684\u6784\u9020\u3001\u53d1\u9001\u3001\u54cd\u5e94\u5904\u7406\u4ee5\u53ca\u9519\u8bef/\u91cd\u5b9a\u5411\u7ba1\u7406\u3002  \n\n- **\u4e3b\u8981\u8f93\u5165\u53c2\u6570**\uff08\u5747\u4e3a `_request` \u65b9\u6cd5\u7684\u5173\u952e\u53c2\u6570\uff09\uff1a  \n  - `method`\u3001`str_or_url`\uff1a\u8bf7\u6c42\u65b9\u6cd5\uff08GET\u3001POST \u7b49\uff09\u548c\u76ee\u6807", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:45:33.023906"}