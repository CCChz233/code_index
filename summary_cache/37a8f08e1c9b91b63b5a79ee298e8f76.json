{"summary": "We need to summarize functionality of code snippet. The code is from Lib/wave.py, defines Wave_write class? Actually snippet includes imports, __all__, constants, namedtuple _wave_params, and a method setparams defined inside class? It appears to be part of Wave_write class. The method setparams sets wave parameters (channels, sample width, framerate, frames, compression type/name). It checks if data already written; if so raises Error. Then calls setter methods for each attribute.\n\nWe need to summarize business logic, inputs, outputs. So: The code defines constants for PCM format, defines a namedtuple for wave parameters, and implements a method to set wave file parameters before writing audio data. Input: a tuple of six parameters (nchannels, sampwidth, framerate, nframes, comptype, compname). Output: updates internal state of Wave_write object; raises Error if data already written.\n\nAlso imports and __all__ define public API: open, Error, Wave_read, Wave_write.\n\nThus summary: The module provides wave file handling; the setparams method configures audio file header.\n\nLet's produce Chinese summary.assistantfinal\u8be5\u6a21\u5757\u5b9e\u73b0 WAV \u6587\u4ef6\u7684\u8bfb\u5199\u63a5\u53e3\uff0c\u5411\u5916\u66b4\u9732 `open\u3001Error\u3001Wave_read\u3001Wave_write` \u56db\u4e2a\u7b26\u53f7\u3002  \n- \u5e38\u91cf `WAVE_FORMAT_PCM`\u3001`WAVE_FORMAT_EXTENSIBLE` \u4e0e `KSDATAFORMAT_SUBTYPE_PCM` \u7528\u4e8e\u63cf\u8ff0 PCM \u7f16\u7801\u7684\u683c\u5f0f\u6807\u8bc6\u3002  \n- `_wave_params` \u662f\u4e00\u4e2a `namedtuple`\uff0c\u5c01\u88c5 WAV \u6587\u4ef6\u7684\u516d\u4e2a\u5173\u952e\u5c5e\u6027\uff1a\u58f0\u9053\u6570\u3001\u91c7\u6837\u5bbd\u5ea6\u3001\u91c7\u6837\u7387\u3001\u5e27\u6570\u3001\u538b\u7f29\u7c7b\u578b\u53ca\u5176\u540d\u79f0\u3002  \n\n\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\u4f53\u73b0\u5728 `Wave_write.setparams` \u65b9\u6cd5\u4e2d\uff1a\n\n1. **\u8f93\u5165**\uff1a`params` \u4e3a\u4e00\u4e2a\u5305\u542b\u516d\u4e2a\u5143\u7d20\u7684\u5e8f\u5217  \n   `(nchannels, sampwidth, framerate, nframes, comptype, compname)`\u3002  \n2. **\u6821\u9a8c**\uff1a\u82e5\u5df2\u7ecf\u5199\u5165\u8fc7\u97f3\u9891\u6570\u636e\uff08`self._datawritten` \u4e3a\u771f\uff09\uff0c\u5219\u629b\u51fa `Error('cannot change parameters after starting to write')`\uff0c\u9632\u6b62\u5728\u6587\u4ef6\u5185\u5bb9\u5df2\u5f00\u59cb\u5199\u5165\u540e\u4fee\u6539\u5934\u90e8\u4fe1\u606f\u3002  \n3. **\u5904\u7406**\uff1a\u4f9d\u6b21\u8c03\u7528\u5185\u90e8\u7684 `setnchannels\u3001setsampwidth\u3001setframerate\u3001setnframes\u3001setcomptype` \u65b9\u6cd5\uff0c\u5c06\u4e0a\u8ff0\u516d\u4e2a\u53c2\u6570\u5199\u5165\u5bf9\u8c61\u7684\u72b6\u6001", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:52:43.765103"}