{"summary": "We need to summarize functionality of the code snippet. The snippet is part of Python's zipimport module. It defines constants, imports, and a method _get_module_code that retrieves module code from a zip archive. It searches for module path, tries suffixes, reads data, unmarshals bytecode or compiles source, returns code object, package flag, and path. It raises ZipImportError if not found.\n\nWe need to produce summary in Chinese (maybe with English). Provide business logic, inputs, outputs. No \"This code does\". Start directly with summary content.\n\nLet's craft.\n\nassistantfinal\u4ece zip \u5305\u4e2d\u5b9a\u4f4d\u5e76\u52a0\u8f7d\u6307\u5b9a\u6a21\u5757\u7684\u4ee3\u7801\u5bf9\u8c61\u3002  \n**\u8f93\u5165**  \n- `self`\uff1a`zipimporter` \u5b9e\u4f8b\uff0c\u5305\u542b\u5df2\u6253\u5f00\u7684 zip \u6587\u4ef6\u8def\u5f84 (`self.archive`) \u4ee5\u53ca\u5df2\u89e3\u6790\u7684\u6587\u4ef6\u76ee\u5f55\u8868 (`self._files`)\u3002  \n- `fullname`\uff1a\u5f85\u5bfc\u5165\u6a21\u5757\u7684\u5b8c\u6574\u540d\u79f0\uff08\u5982 `pkg.mod`\uff09\u3002  \n\n**\u5904\u7406\u6d41\u7a0b**  \n1. \u901a\u8fc7\u5185\u90e8\u51fd\u6570 `_get_module_path` \u8ba1\u7b97\u6a21\u5757\u5728 zip \u5305\u5185\u7684\u57fa\u51c6\u8def\u5f84\u3002  \n2. \u6309\u9884\u5b9a\u4e49\u7684\u641c\u7d22\u987a\u5e8f `_zip_searchorder`\uff08`__init__.pyc`\u3001`__init__.py`\u3001`.pyc`\u3001`.py`\uff09\u4f9d\u6b21\u62fc\u63a5\u540e\u7f00\u5f62\u6210\u5b8c\u6574\u7684 zip \u5185\u8def\u5f84 `fullpath`\u3002  \n3. \u5728\u76ee\u5f55\u8868 `self._files` \u4e2d\u67e5\u627e\u5bf9\u5e94\u6761\u76ee\uff1b\u82e5\u4e0d\u5b58\u5728\u5219\u7ee7\u7eed\u4e0b\u4e00\u4e2a\u540e\u7f00\u3002  \n4. \u627e\u5230\u6761\u76ee\u540e\u8c03\u7528 `_get_data` \u8bfb\u53d6\u6587\u4ef6\u539f\u59cb\u5b57\u8282\u3002  \n5. \u6839\u636e\u540e\u7f00\u7c7b\u578b\u51b3\u5b9a\u5904\u7406\u65b9\u5f0f\uff1a  \n   - \u82e5\u662f\u5b57\u8282\u7801\u6587\u4ef6 (`.pyc`)\uff0c\u4f7f\u7528 `_unmarshal_code` \u53cd\u5e8f\u5217\u5316\u4e3a\u4ee3\u7801\u5bf9\u8c61\uff1b\u82e5\u53cd\u5e8f\u5217\u5316\u5931\u8d25\uff08\u5982\u9b54\u6570\u4e0d\u5339\u914d\u3001\u65f6\u95f4\u6233\u4e0d\u7b26\uff09\uff0c\u8bb0\u5f55 `ImportError` \u5e76\u5c1d\u8bd5\u4e0b\u4e00\u4e2a\u540e\u7f00\u3002  \n   - \u82e5\u662f\u6e90\u7801\u6587\u4ef6 (`.py`)\uff0c\u8c03\u7528 `_compile_source` \u5c06\u6e90\u7801\u7f16\u8bd1\u4e3a\u4ee3\u7801\u5bf9\u8c61\u3002  \n6. \u6210\u529f\u5f97\u5230\u4ee3\u7801\u5bf9\u8c61\u540e\u8fd4\u56de\u4e09\u5143\u7ec4 `(code, ispackage, modpath)`\uff0c\u5176\u4e2d `ispackage` \u8868\u793a\u8be5\u6a21\u5757\u662f\u5426\u4e3a\u5305\uff0c`modpath` \u4e3a\u5728 zip \u5305\u4e2d\u7684\u5b9e\u9645\u8def\u5f84\u3002  \n\n**\u8f93\u51fa**  \n- \u6210\u529f\u65f6\uff1a`code`\uff08\u53ef\u76f4\u63a5\u6267\u884c\u7684 `code` \u5bf9\u8c61", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:55:55.133828"}