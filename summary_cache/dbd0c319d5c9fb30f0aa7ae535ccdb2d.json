{"summary": "The code defines a `track` method within a class (likely ****). \nWe need to produce a summary in Chinese, focusing on business logic, inputs, outputs. No preamble. So directly start with summary.\n\nWe need to describe functionality: track function calls and responses for logging/finetuning. Inputs: fn, args, kwargs, resp (BaseModel), optional name, finetune_format (enum). Output: None (writes to logger). It logs either in messages format (OpenAI function call schema) or raw format (function details). It uses pydantic BaseModel for response, uses openai_schema to generate schema, constructs openai_kwargs, adds messages, functions, logs JSON. For raw, logs dict with function name, representation, args, kwargs, response dump, schema.\n\nLet's produce Chinese summary. Use Chinese with occasional English terms for clarity. No \"This code does\". Just start with summary. Let's write.\n\nassistantfinal\u5b9e\u73b0\u4e86\u4e00\u4e2a `track` \u65b9\u6cd5\uff0c\u7528\u4e8e\u5728\u51fd\u6570\u8c03\u7528\u540e\u8bb0\u5f55\u8c03\u7528\u7ec6\u8282\u548c\u8fd4\u56de\u7ed3\u679c\uff0c\u4ee5\u4f9b\u540e\u7eed\u6a21\u578b\u5fae\u8c03\u4f7f\u7528\u3002  \n\n**\u8f93\u5165\u53c2\u6570**  \n- `fn`\uff1a\u5f85\u8ffd\u8e2a\u7684\u51fd\u6570\u5bf9\u8c61\u3002  \n- `args`\uff1a\u4f20\u9012\u7ed9 `fn` \u7684\u4f4d\u7f6e\u53c2\u6570\u5143\u7ec4\u3002  \n- `kwargs`\uff1a\u4f20\u9012\u7ed9 `fn` \u7684\u5173\u952e\u5b57\u53c2\u6570\u5b57\u5178\u3002  \n- `resp`\uff1a`fn` \u7684\u8fd4\u56de\u503c\uff0c\u5fc5\u987b\u662f\u7ee7\u627f\u81ea **pydantic** `BaseModel` \u7684\u5b9e\u4f8b\u3002  \n- `name`\uff08\u53ef\u9009\uff09\uff1a\u81ea\u5b9a\u4e49\u7684\u51fd\u6570\u6807\u8bc6\u540d\uff0c\u672a\u63d0\u4f9b\u65f6\u9ed8\u8ba4\u4f7f\u7528 `fn.__name__`\u3002  \n- `finetune_format`\uff08\u53ef\u9009\uff09\uff1a\u65e5\u5fd7\u7684\u7ec4\u7ec7\u5f62\u5f0f\uff0c\u652f\u6301 `FinetuneFormat.MESSAGES`\uff08OpenAI \u6d88\u606f\u683c\u5f0f\uff09\u548c `FinetuneFormat.RAW`\uff08\u539f\u59cb\u7ed3\u6784\uff09\uff0c\u9ed8\u8ba4 `MESSAGES`\u3002  \n\n**\u4e1a\u52a1\u903b\u8f91**  \n1. \u6839\u636e `finetune_format` \u9009\u62e9\u65e5\u5fd7\u7ed3\u6784\u3002  \n2. **MESSAGES** \u6a21\u5f0f\uff1a  \n   - \u901a\u8fc7 `openai_schema` \u5c06\u8fd4\u56de\u503c\u7684\u6a21\u578b\u8f6c\u6362\u4e3a OpenAI \u51fd\u6570\u8c03\u7528 schema\u3002  \n   - \u8c03\u7528 `self.openai_kwargs` \u751f\u6210\u57fa\u7840\u7684 OpenAI \u8bf7\u6c42\u4f53\uff08\u5305\u62ec\u51fd\u6570\u540d\u3001\u53c2\u6570\u7b49\uff09\u3002  \n   - \u5728 `messages` \u5217\u8868\u4e2d\u8ffd\u52a0\u4e00\u6761\u89d2\u8272\u4e3a `assistant`\u3001\u643a\u5e26\u51fd\u6570\u8c03\u7528\u4fe1\u606f\u7684\u8bb0\u5f55\uff0c`arguments` \u4f7f\u7528 `resp", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:38:37.428589"}