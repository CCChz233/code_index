{"summary": "The code defines a `ClientWebSocketResponse` class for handling WebSocket connections in an asynchronous environment using aiohttp. It imports necessary modules and defines constants and default timeout values. The class includes properties and methods for managing the WebSocket connection, such as `closed`, `receive`, `close`, and `receive` methods. It also provides a `json` method to parse JSON JSON.\nWe need to summarize functionality of the code snippet. Provide business logic, inputs, outputs. Use Chinese. No intro phrase. Just start with summary. Provide details: class for client WebSocket response, handling async communication, methods for receiving messages, sending, closing, JSON decode, error handling, timeouts. Inputs: WebSocket URL, optional timeout, messages. Outputs: WSMessage objects, JSON data, close status. Provide mention of properties. Use Chinese. Let's craft.assistantfinal\u5b9e\u73b0\u4e86 aiohttp \u5ba2\u6237\u7aef\u7684 WebSocket \u4f1a\u8bdd\u5c01\u88c5 `ClientWebSocketResponse`\uff0c\u7528\u4e8e\u5728\u5f02\u6b65\u73af\u5883\u4e0b\u5efa\u7acb\u3001\u7ef4\u62a4\u548c\u5173\u95ed WebSocket \u8fde\u63a5\uff0c\u5e76\u63d0\u4f9b\u6d88\u606f\u6536\u53d1\u3001\u9519\u8bef\u5904\u7406\u548c JSON \u7f16\u89e3\u7801\u7b49\u4e1a\u52a1\u529f\u80fd\u3002\n\n- **\u8f93\u5165**  \n  - \u901a\u8fc7 `aiohttp` \u53d1\u8d77\u7684 HTTP \u8bf7\u6c42\u5f97\u5230\u7684 `ClientResponse`\uff08\u5185\u90e8\u6301\u6709\u5e95\u5c42 socket\u3001URL\u3001\u8bf7\u6c42\u5934\u7b49\u4fe1\u606f\uff09\u3002  \n  - \u53ef\u9009\u7684\u8d85\u65f6\u914d\u7f6e `ClientWSTimeout`\uff08\u9ed8\u8ba4 `ws_receive=None, ws_close=10.0`\uff09\uff0c\u7528\u4e8e\u63a7\u5236\u63a5\u6536\u548c\u5173\u95ed\u64cd\u4f5c\u7684\u6700\u5927\u7b49\u5f85\u65f6\u95f4\u3002  \n  - \u53d1\u9001\u6216\u63a5\u6536\u7684\u6d88\u606f\u4f53\uff0c\u652f\u6301\u4e8c\u8fdb\u5236\u3001\u6587\u672c\u4ee5\u53ca JSON\uff08\u4f7f\u7528 `DEFAULT_JSON_ENCODER/DECODER`\uff09\u3002\n\n- **\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91**  \n  1. **\u8fde\u63a5\u72b6\u6001\u7ba1\u7406**\uff1a`closed` \u5c5e\u6027\u8fd4\u56de\u5e03\u5c14\u503c\uff0c\u6307\u793a WebSocket \u662f\u5426\u5df2\u5173\u95ed\uff1b\u5185\u90e8\u7ef4\u62a4 `_closed`\u3001`_closing` \u6807\u5fd7\u4ee5\u53ca `close_code`\u3001`close_message`\u3002  \n  2. **\u6d88\u606f\u63a5\u6536**\uff1a`receive()` \u5f02\u6b65\u65b9\u6cd5\u4ece\u5185\u90e8 `WebSocketDataQueue` \u8bfb\u53d6\u6570\u636e\uff0c\u4f9d\u636e `WSMsgType`\uff08TEXT\u3001BINARY\u3001CLOSE\u3001PING\u3001PONG \u7b49\uff09\u5305\u88c5\u6210 `WSMessage` \u5bf9\u8c61\u8fd4\u56de\uff1b\u5728\u8d85\u65f6\u6216\u5e95\u5c42\u8fde\u63a5\u5f02\u5e38\u65f6\u629b\u51fa `ServerTimeoutError`\u3001`WSMessageError` \u7b49\u3002  \n  3. **\u6d88\u606f\u53d1\u9001**\uff1a\u901a\u8fc7 `WebSocketWriter`\uff08\u5185\u90e8\u5b9e\u73b0\uff09", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:34:49.853282"}