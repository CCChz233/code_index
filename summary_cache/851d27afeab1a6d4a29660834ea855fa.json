{"summary": "The code defines a `PartialBase` class that provides a static method `extract_json` for extracting JSON data from various streaming completions based on different `Mode` values. The method iterates over the `completion` iterable, handling various `Mode` cases:\n- `Mode.ANTHROPIC_` ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... \nWe need to produce a summary of the functionality of the code. The code snippet is incomplete but we can infer the main parts: It's a class PartialBase with a static method extract_json that yields JSON strings from streaming completions based on mode. It handles various modes: ANTHROPIC_JSON, ANTHROPIC_TOOLS, GEMINI_JSON, GEMINI_TOOLS, FUNCTION, JSON, MD_JSON, JSON_SCHEMA, CEREBRAS_JSON, FIREWORKS_JSON, TOOLS, TOOLS_STRICT, FIREWORKS_TOOLS, WRITER_TOOLS. It extracts from chunk.delta.text, chunk.delta.partial_json, chunk.text, chunk.candidates[0].content.parts[0].function_call, chunk.choices[0].delta.function_call.arguments, chunk.choices[0].delta.content, chunk.choices[0].delta.tool_calls[0].function.arguments. It yields JSON strings. It catches AttributeError and passes.\n\nWe need to summarize business logic, inputs, outputs. Use Chinese. No \"This code does...\" etc. Start directly with summary content.\n\nLet's produce a concise summary: The class provides a utility to parse streaming responses from LLM APIs (Anthropic, Gemini, OpenAI, etc.) and extract JSON payloads according to the selected mode. Input: an iterable of response chunks and a Mode enum. Output: a generator yielding JSON strings. It supports multiple modes and handles different response structures, including tool calls and function calls. It also includes deprecation warning for FUNCTION mode. It uses try/except to ignore missing attributes.\n\nLet's produce final answer.assistantfinal\u63d0\u4f9b\u4e00\u4e2a\u7edf\u4e00\u7684\u6d41\u5f0f\u54cd\u5e94 JSON \u62bd\u53d6\u5de5\u5177\u3002  \n- **\u8f93\u5165**\uff1a  \n  1. `completion`\uff1a\u4efb\u610f\u53ef\u8fed\u4ee3\u7684 LLM \u54cd\u5e94\u5757\uff08\u6bcf\u5757\u53ef\u80fd\u662f\u5b57\u5178\u3001\u5bf9\u8c61\u6216\u81ea\u5b9a\u4e49\u7ed3\u6784\uff09\u3002  \n  2. `mode`\uff1a`Mode` \u679a\u4e3e\uff0c\u6307\u660e\u4f7f\u7528\u7684\u6a21\u578b\u5382\u5546\u53ca\u8fd4\u56de\u683c\u5f0f\uff08\u5982 Anthropic\u2011JSON\u3001Anthropic\u2011TOOLS\u3001Gemini\u2011JSON\u3001Gem", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:57:29.483717"}