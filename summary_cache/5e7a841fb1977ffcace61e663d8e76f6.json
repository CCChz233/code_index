{"summary": "We need to summarize the functionality of the code snippet. The code is from aiohttp/payload.py. It defines a PayloadRegistry class and registers various payload types. It imports many modules. It defines constants, types, and a registry. The code snippet includes imports, __all__, constant TOO_LARGE_BYTES_BODY, type alias PayloadType, tuple type _PayloadRegistryItem, and initialization of PAYLOAD_REGISTRY = PayloadRegistry() with internal lists.\n\nWe need to summarize business logic, inputs, outputs. The code defines a registry for payload handling in aiohttp. It registers payload classes for different data types (bytes, string, IO, JSON, async iterables). The registry maps Python types to payload classes and optional conditions. The get_payload function (not shown) would retrieve appropriate payload class based on data type and content type. The payload classes implement AbstractStreamWriter to produce HTTP request bodies.\n\nThus summary: The module provides a registry that maps Python objects to appropriate Payload subclasses for HTTP request/response bodies. It defines constants, type hints, and registers default payload handlers. The registry can be queried to get a payload instance for a given data and optional content type. The payload classes handle serialization (e.g., JSON encoding, text encoding) and streaming.\n\nWe need to output in Chinese (with English optional). Provide summary directly.\n\nLet's produce final answer.assistantfinal\u63d0\u4f9b\u4e86 aiohttp \u4e2d\u7528\u4e8e HTTP \u6d88\u606f\u4f53\u5e8f\u5217\u5316\u7684\u7edf\u4e00\u7ba1\u7406\u673a\u5236\u3002\u6838\u5fc3\u662f **PayloadRegistry**\uff0c\u5728\u6a21\u5757\u52a0\u8f7d\u65f6\u5b9e\u4f8b\u5316\u4e3a\u5168\u5c40\u53d8\u91cf **PAYLOAD_REGISTRY**\uff0c\u5185\u90e8\u7ef4\u62a4\u4e09\u6bb5\u6709\u5e8f\u5217\u8868\uff08_first\u3001_normal\u3001_last\uff09\uff0c\u7528\u4e8e\u5b58\u653e **(PayloadClass, condition)** \u5f62\u5f0f\u7684\u6ce8\u518c\u9879\u3002  \n\n\u4e1a\u52a1\u903b\u8f91  \n- \u6839\u636e\u4e0d\u540c\u7684 Python \u5bf9\u8c61\u7c7b\u578b\uff08bytes\u3001str\u3001IO\u3001JSON\u3001AsyncIterable \u7b49\uff09\u4ee5\u53ca\u53ef\u9009\u7684\u989d\u5916\u5224\u65ad\u6761\u4ef6\uff0c\u6ce8\u518c\u5bf9\u5e94\u7684 **Payload** \u5b50\u7c7b\u3002  \n- \u5f53\u5916\u90e8\u8c03\u7528 `get_payload(data, content_type=None, ...)`\uff08\u672a\u5c55\u793a\uff09\u65f6\uff0c\u6ce8\u518c\u8868\u6309\u987a\u5e8f\u904d\u5386\u8fd9\u4e9b\u5217\u8868\uff0c\u627e\u5230\u9996\u4e2a\u6ee1\u8db3 `isinstance(data, type) and condition(data)` \u7684\u6761\u76ee\uff0c\u5b9e\u4f8b\u5316\u76f8\u5e94\u7684 Payload \u5e76\u8fd4\u56de\u3002  \n- Payload \u5b50\u7c7b\u5b9e\u73b0 `AbstractStreamWriter` \u63a5\u53e3\uff0c\u8d1f\u8d23\u628a\u5bf9\u8c61\u8f6c\u6362\u4e3a HTTP \u8bf7\u6c42/\u54cd\u5e94\u7684\u5b57\u8282\u6d41\uff08\u5305\u62ec\u81ea\u52a8\u8bbe\u7f6e `Content-Type`\u3001`Content-Length`\u3001`Content-Disposition` \u7b49\u5934\u90e8\uff09\uff0c\u5e76\u5728", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:52:23.620743"}