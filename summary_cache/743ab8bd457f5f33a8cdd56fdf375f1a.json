{"summary": "- The code defines a decorator `decorator` that validates the signature of a function intended for asynchronous validation in a Pydantic model.\n- It checks that the function has only **** ****.\nWe need to produce a summary in Chinese (or Chinese/English) focusing on business logic, inputs, outputs. No \"This code does...\" etc. Must start directly with the summary content. So we need to describe functionality: defines constants, a decorator that checks function signature, ensures max 2 parameters, optional 'info' param of type ValidationInfo, sets attribute on function for async model validator, returns function. Input: a callable; output: same callable with attribute set. Business logic: validation of async validator functions for Pydantic models. Provide Chinese.\n\nLet's craft.\n\nStart directly with summary content. No preamble.\n\nLet's produce.\n\nassistantfinal- \u5b9a\u4e49\u4e86\u4e24\u4e2a\u5185\u90e8\u6807\u8bc6\u5e38\u91cf `__async_validator__`\u3001`__async_model_validator__`\uff0c\u7528\u4e8e\u5728\u51fd\u6570\u5bf9\u8c61\u4e0a\u6807\u8bb0\u5f02\u6b65\u6821\u9a8c\u5668\u3002  \n- \u63d0\u4f9b `decorator` \u88c5\u9970\u5668\uff0c\u63a5\u53d7\u4efb\u610f\u53ef\u8c03\u7528\u5bf9\u8c61 `func` \u5e76\u8fd4\u56de\u540c\u4e00\u5bf9\u8c61\uff08\u7c7b\u578b\u4fdd\u6301\u4e3a `Callable[..., Any]`\uff09\u3002  \n- \u88c5\u9970\u5668\u5728\u8fd0\u884c\u65f6\u901a\u8fc7 `inspect.signature` \u68c0\u67e5 `func` \u7684\u53c2\u6570\u5217\u8868\uff1a  \n  1. \u53c2\u6570\u6570\u91cf\u53ea\u80fd\u4e3a 1 \u6216 2\uff0c\u8d85\u8fc7 2 \u5219\u629b\u51fa `ValueError(\"Invalid Parameter Count!\")`\u3002  \n  2. \u5f53\u53c2\u6570\u4e3a 2 \u65f6\uff0c\u5fc5\u987b\u5305\u542b\u540d\u4e3a `info` \u7684\u53c2\u6570\uff0c\u4e14\u5176\u7c7b\u578b\u6ce8\u89e3\u5fc5\u987b\u662f `pydantic.ValidationInfo`\uff1b\u5426\u5219\u5206\u522b\u629b\u51fa\u76f8\u5e94\u7684 `ValueError`\u3002  \n  3. \u82e5\u6ee1\u8db3\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u6807\u8bb0 `requires_validation_context = True`\uff0c\u8868\u793a\u8be5\u6821\u9a8c\u5668\u9700\u8981\u9a8c\u8bc1\u4e0a\u4e0b\u6587\u4fe1\u606f\uff1b\u5426\u5219\u4e3a `False`\u3002  \n- \u5c06 `(func, requires_validation_context)` \u5143\u7ec4\u7ed1\u5b9a\u5230 `func` \u7684\u5c5e\u6027 `__async_model_validator__`\uff08\u901a\u8fc7 `setattr`\uff09\uff0c\u4f9b\u540e\u7eed Pydantic \u6846\u67b6\u5728\u6a21\u578b\u6784\u5efa\u65f6\u8bc6\u522b\u5e76\u8c03\u7528\u3002  \n- \u6700\u7ec8\u8fd4\u56de\u539f\u51fd\u6570\u5bf9\u8c61\uff0c\u4f7f\u5176\u65e2\u4fdd\u6301\u539f\u6709\u884c\u4e3a\uff0c\u53c8\u643a\u5e26\u4e0a\u8ff0\u5143\u6570\u636e\u4f9b\u5f02\u6b65\u6a21\u578b\u6821\u9a8c\u4f7f\u7528\u3002  \n\n**\u8f93\u5165**\uff1a\u4efb\u610f\u7b26\u5408\u7b7e\u540d\u8981\u6c42\u7684\u51fd\u6570\uff08\u5355\u53c2\u6570\u6216 `(value, info: ValidationInfo)` \u53cc\u53c2\u6570\uff09\u3002  \n**\u8f93\u51fa**", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:47:01.868640"}