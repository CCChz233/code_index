{"summary": "The code defines a function `load_source` that loads a Python module from a source file. It takes three inputs: `name` (the module name), `pathname` (the path to the file), and `file` (optional). It uses a compatibility loader ` _LoadSourceCompatibility` (which presumably\u00a0\u00a0... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... \nThe rest...\nThe user asks: \"You are a senior code analyst. Summarize the functionality of the following code. Requirements: 1. Start directly with the summary content. No \"This code does...\" or \"Here is...\". 2. Focus on the business logic, inputs, and outputs. 3. Use Chinese (e.g., Chinese/English).\"\n\nWe have code snippet from Lib/imp.py. The code imports many things, defines constants, and defines a function load_source(name, pathname, file=None). The function creates a loader = _LoadSourceCompatibility(name, pathname, file). Then spec = util.spec_from_file_location(name, pathname, loader=loader). Then if name in sys.modules: module = _exec(spec, sys.modules[name]) else: module = _load(spec). Then sets module.__loader__ = machinery.SourceFileLoader(name, pathname) and module.__spec__.loader = module.__loader__. Then returns module.\n\nThus the summary: The function loads a Python module from source file, handling reloading, using importlib machinery. Input: module name, file path, optional file object. Output: module object loaded, with proper __loader__ and __spec__.loader set to SourceFileLoader.\n\nWe need to start directly with summary content, no \"This code does\". So start with Chinese description: \"\u529f\u80fd\uff1a...\". Provide business logic, inputs, outputs. Use Chinese/English. So answer in Chinese. Probably something like:\n\n\u529f\u80fd\uff1a\u63d0\u4f9b load_source \u51fd\u6570\uff0c\u7528\u4e8e\u4ece\u6307\u5b9a\u7684\u6e90\u6587\u4ef6\u8def\u5f84\u52a0\u8f7d Python \u6a21\u5757\u3002\u8f93\u5165\uff1a\u6a21\u5757\u540d name\u3001\u6587\u4ef6\u8def\u5f84 pathname\u3001\u53ef\u9009\u7684\u5df2\u6253\u5f00\u6587\u4ef6\u5bf9\u8c61 file\u3002\u5185\u90e8\u4f7f\u7528 _LoadSourceCompatibility \u521b\u5efa\u517c\u5bb9\u52a0\u8f7d\u5668\uff0c\u751f\u6210\u6a21\u5757\u89c4\u8303 spec\uff0c\u82e5\u6a21\u5757\u5df2\u5728 sys.modules \u4e2d\u5219\u6267\u884c _exec", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:59:45.423680"}