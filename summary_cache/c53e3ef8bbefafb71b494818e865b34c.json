{"summary": "The code defines a multipart handling module for aiohttp, providing classes and utilities to parse and generate multipart HTTP messages. It includes a MultipartReader for reading multipart data, a MultipartWriter for constructing multipart bodies, and a BodyPartReader for reading individual parts. The module handles content disposition parsing, filename extraction, and supports various payload types (JSON, string, etc.). It also integrates compression utilities and header parsing. The primary input is a multipart HTTP request/response, and the output is parsed parts or constructed multipart content. The at_eof method checks if the final boundary of a multipart message has been reached.\nThe user wants a summary of the functionality of the code. Must start directly with the summary content, no preamble. Must focus on business logic, inputs, outputs. Use Chinese (e.g., Chinese/English). So we need to produce a Chinese summary, possibly mixing English terms. Provide details: module for aiohttp multipart handling, classes, functions, parsing, building, etc. Mention inputs: HTTP request/response streams, multipart bodies; outputs: parsed parts, constructed multipart bodies, etc. Also mention at_eof method. Provide concise but thorough summary.\n\nLet's craft final answer.assistantfinal\u63d0\u4f9b\u5bf9 **aiohttp** \u4e2d multipart\uff08\u591a\u6bb5\uff09HTTP \u6d88\u606f\u7684\u5b8c\u6574\u89e3\u6790\u4e0e\u751f\u6210\u80fd\u529b\u3002\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\u5305\u62ec\uff1a\n\n1. **MultipartReader**  \n   - \u8f93\u5165\uff1a`StreamReader`\uff08\u6216\u4efb\u610f\u53ef\u8fed\u4ee3\u7684\u4e8c\u8fdb\u5236\u6d41\uff09\u4ee5\u53ca\u5bf9\u5e94\u7684 `Content-Type` \u5934\u90e8\uff08\u5fc5\u987b\u5305\u542b `boundary`\uff09\u3002  \n   - \u5904\u7406\uff1a\u9010\u6bb5\u8bfb\u53d6\u6d41\uff0c\u4f9d\u636e MIME \u8fb9\u754c\u5206\u5272\u6570\u636e\uff0c\u89e3\u6790\u6bcf\u6bb5\u7684\u5934\u90e8\uff08`Content-Disposition`\u3001`Content-Type`\u3001`Content-Transfer-Encoding` \u7b49\uff09\uff0c\u5e76\u6839\u636e `Content-Type` \u81ea\u52a8\u9009\u62e9\u5408\u9002\u7684 `Payload` \u5b50\u7c7b\uff08\u5982 `JsonPayload`\u3001`StringPayload`\u3001\u6587\u4ef6\u6d41\u7b49\uff09\u3002  \n   - \u8f93\u51fa\uff1a\u4e00\u4e2a\u53ef\u8fed\u4ee3\u7684 `BodyPartReader` \u5bf9\u8c61\u5e8f\u5217\uff0c\u6bcf\u4e2a\u5bf9\u8c61\u5c01\u88c5 `(payload, name, filename)` \u4e09\u5143\u7ec4\uff0c\u4f9b\u4e1a\u52a1\u4ee3\u7801\u76f4\u63a5\u8bbf\u95ee\u5b9e\u9645\u5185\u5bb9\u3002  \n   - \u5173\u952e\u65b9\u6cd5 `at_eof()` \u7528\u4e8e\u5224\u65ad\u662f\u5426\u5df2\u8bfb\u53d6\u5230 multipart \u6d88\u606f\u7684\u7ec8\u6b62\u8fb9\u754c\u3002\n\n2. **MultipartWriter**  \n   - \u8f93\u5165\uff1a\u4e1a\u52a1\u4ee3\u7801\u901a\u8fc7 `writer.append_payload(payload, ...)` \u6216 `writer.append(part)` \u624b\u52a8\u6dfb\u52a0\u5404\u4e2a\u5b50\u6bb5\uff0c\u652f\u6301\u81ea\u5b9a\u4e49 `Content-Disposition`", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:50:08.102023"}