{"summary": "We need to summarize the functionality of the code snippet. The snippet appears to be part of a Python module `instructor/dsl/citation.py`. It defines a `CitationMixin` class (though not shown fully) that inherits from `BaseModel` (pydantic). It defines a field `substring_quotes` which is a list of strings, with a description. Then there is a method `_get_span` that takes a `quote` string, a `context` string, and an optional `errs` integer default 5. It returns a generator yielding tuples of start and end indices (spans) where the quote appears in the context, allowing up to `errs` errors (approximate matching). It uses the `regex` library (the third-party regex module) to perform fuzzy matching with error tolerance. It starts with 0 errors and increments up to `errs`. It yields the spans from the first match found.\n\nThus the business logic: given a quote and a larger context, find approximate occurrences of the quote within the context, allowing up to a certain number of errors, and return the character index spans of the match. The input is a quote string, a context string, and optional error tolerance. The output is a generator of (start, end) index tuples.\n\nAlso there is a field `substring_quotes` which presumably stores unique substrings used for citation.\n\nThus the summary: The code defines a Pydantic model mixin with a field for storing substrings of a quote, and a private method that uses fuzzy regex to locate approximate matches of a quote within a larger text, yielding the character spans of the match, with a configurable error tolerance.\n\nNow produce the summary in Chinese (with some English if needed). No \"This code does...\" etc. Just start with the summary.assistantanalysisWe need to output a summary directly, no intro phrase. Use Chinese. Provide business logic, inputs, outputs.assistantfinal\u5b9a\u4e49\u4e86\u4e00\u4e2a\u57fa\u4e8e Pydantic \u7684 `CitationMixin`\uff0c\u5305\u542b\u5b57\u6bb5 `substring_quotes: List[str]` \u7528\u4e8e\u5b58\u50a8\u5f15\u7528\u4e2d\u4f7f\u7528\u7684\u552f\u4e00\u5b50\u4e32\u3002  \n\u6838\u5fc3\u65b9\u6cd5 `_get_span(quote: str, context: str, errs: int = 5) -> Generator[Tuple[int, int], None, None]`\uff1a\n\n- **\u8f93\u5165**\uff1a  \n  - `quote`\uff1a\u5f85\u5339\u914d\u7684\u77ed\u53e5\u6216\u5f15\u7528\u6587\u672c\u3002  \n  - `context`\uff1a\u5305\u542b\u53ef\u80fd\u51fa\u73b0\u8be5\u5f15\u7528\u7684\u5b8c\u6574\u6587\u672c\u3002", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:56:48.383083"}