{"summary": "The code defines a topological sorting utility with a `TopologicalSorter` class. It provides a method `get_ready` that returns a tuple of nodes ready for processing. Initially, it returns all nodes without predecessors (i.e., the starting points). After each node is marked as processed (by calling `done`), the method returns the next set of nodes whose all predecessors have been processed. If no further nodes can be processed, it returns an empty tuple. The method raises a `ValueError` if `prepare` is called before.\nWe need to produce final answer: summary content directly, no intro phrase. Should be Chinese (maybe mix). Provide business logic, inputs, outputs. Let's craft.\n\nThe code snippet only includes get_ready method. But we can summarize overall functionality: topological sorter, ready nodes retrieval, requires prepare, updates internal state, returns tuple, raises error.\n\nLet's produce Chinese summary. Include inputs: self, internal state; outputs: tuple of ready nodes; side effects: marks nodes as out, clears ready list, increments counter.\n\nLet's answer.assistantfinal\u5b9e\u73b0\u62d3\u6251\u6392\u5e8f\u7684\u5de5\u5177\u7c7b `TopologicalSorter`\uff0c\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\u5728 `get_ready` \u65b9\u6cd5\uff1a\n\n- **\u8f93\u5165**\uff1a\u4ec5\u4f9d\u8d56\u5b9e\u4f8b\u5185\u90e8\u72b6\u6001 `self._ready_nodes`\uff08\u51c6\u5907\u597d\u7684\u8282\u70b9\u96c6\u5408\uff09\u548c `self._node2info`\uff08\u8282\u70b9\u4fe1\u606f\u6620\u5c04\uff09\u3002\u65b9\u6cd5\u672c\u8eab\u4e0d\u63a5\u53d7\u5916\u90e8\u53c2\u6570\u3002\n- **\u524d\u7f6e\u6761\u4ef6**\uff1a\u5fc5\u987b\u5148\u8c03\u7528 `prepare()` \u521d\u59cb\u5316\u6392\u5e8f\uff0c\u5426\u5219\u629b\u51fa `ValueError(\"prepare() must be called first\")`\u3002\n- **\u5904\u7406\u8fc7\u7a0b**\uff1a\n  1. \u5c06\u5f53\u524d `_ready_nodes` \u4e2d\u7684\u6240\u6709\u8282\u70b9\u590d\u5236\u4e3a `result`\uff08\u5143\u7ec4\uff09\uff0c\u6807\u8bb0\u8fd9\u4e9b\u8282\u70b9\u7684 `npredecessors` \u4e3a `_NODE_OUT`\uff08-1\uff09\uff0c\u8868\u793a\u5df2\u8f93\u51fa\u3002\n  2. \u6e05\u7a7a `_ready_nodes`\uff0c\u5e76\u628a\u5df2\u8f93\u51fa\u8282\u70b9\u6570\u7d2f\u8ba1\u5230 `_npassedout`\u3002\n- **\u8f93\u51fa**\uff1a\u8fd4\u56de `result`\uff0c\u5373\u672c\u6b21\u53ef\u5904\u7406\u7684\u5168\u90e8\u201c\u5c31\u7eea\u201d\u8282\u70b9\uff1b\u82e5\u6ca1\u6709\u5c31\u7eea\u8282\u70b9\u5219\u8fd4\u56de\u7a7a\u5143\u7ec4 `()`\u3002\n- **\u526f\u4f5c\u7528**\uff1a\u66f4\u65b0\u8282\u70b9\u72b6\u6001\uff08\u6807\u8bb0\u4e3a\u5df2\u8f93\u51fa\uff09\u3001\u91cd\u7f6e\u5c31\u7eea\u5217\u8868\u3001\u7ef4\u62a4\u5df2\u8f93\u51fa\u8ba1\u6570\uff0c\u4e3a\u540e\u7eed\u8c03\u7528 `done()` \u6216\u518d\u6b21\u8c03\u7528 `get_ready()` \u505a\u51c6\u5907\u3002\n\n\u6574\u4f53\u4e0a\uff0c\u8be5\u65b9\u6cd5\u5728\u62d3\u6251\u6392\u5e8f\u7684\u8fed\u4ee3\u8fc7\u7a0b\u4e2d\u8d1f\u8d23\u9010\u5c42\u63d0\u4f9b\u5f53\u524d\u6240\u6709\u524d\u9a71\u5df2\u5168\u90e8\u5904\u7406\u5b8c\u7684\u8282\u70b9\uff0c\u5e76", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:53:56.451443"}