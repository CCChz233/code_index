{"summary": "We need to summarize the functionality of the code snippet. The snippet is from scripts/release.py. It imports many modules: argparse, atexit, collections, json, re, sys, pathlib.Path, github, pygit2, packaging.version. Then defines a function _add_section(section, prs) that uses nonlocal notes, and if prs is non-empty, adds a markdown bullet for the section, then adds bullet points for each PR object sorted by message, using wrapper.ensure_title_link(obj). So the code is part of a release script that generates release notes. The function adds a section to release notes.\n\nWe need to summarize business logic, inputs, outputs. The function takes a section name (string) and a list of PR objects, and appends formatted markdown to a variable notes. It returns nothing (modifies notes). It uses wrapper.ensure_title_link to format each PR.\n\nThus summary: The script is for generating release notes for a GitHub repository, using PR data, sorting, formatting. The function adds a markdown section.\n\nWe need to output in Chinese (with English optionally). Provide summary directly. No preamble. Let's do that.assistantfinal\u8be5\u811a\u672c\u662f\u7528\u4e8e\u81ea\u52a8\u751f\u6210 GitHub \u9879\u76ee\u53d1\u5e03\u8bf4\u660e\u7684\u5de5\u5177\uff0c\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\u5305\u62ec\uff1a\n\n- **\u8f93\u5165**\uff1a  \n  - `section`\uff08\u5b57\u7b26\u4e32\uff09\uff1a\u8981\u5728\u53d1\u5e03\u8bf4\u660e\u4e2d\u6dfb\u52a0\u7684\u7ae0\u8282\u6807\u9898\uff0c\u5982 \u201cFeatures\u201d\u3001 \u201cBug Fixes\u201d\u3002  \n  - `prs`\uff08\u5217\u8868\uff09\uff1aGitHub Pull Request \u5bf9\u8c61\u96c6\u5408\uff0c\u6bcf\u4e2a\u5bf9\u8c61\u5305\u542b `message`\uff08\u6807\u9898\uff09\u7b49\u5c5e\u6027\uff0c\u901a\u5e38\u7531\u524d\u7f6e\u7684 API \u8c03\u7528\u6216 Git \u63d0\u4ea4\u65e5\u5fd7\u83b7\u53d6\u3002  \n\n- **\u5185\u90e8\u5904\u7406**\uff1a  \n  - \u901a\u8fc7 `nonlocal notes` \u8bbf\u95ee\u5e76\u4fee\u6539\u5916\u5c42\u4f5c\u7528\u57df\u7684 `notes` \u53d8\u91cf\uff08\u7d2f\u8ba1\u7684 Markdown \u6587\u672c\uff09\u3002  \n  - \u82e5 `prs` \u975e\u7a7a\uff0c\u5219\u5728 `notes` \u4e2d\u5148\u5199\u5165\u7ae0\u8282\u6807\u9898\u7684\u4e00\u7ea7\u5217\u8868\u9879 `* {section}`\u3002  \n  - \u5bf9 `prs` \u6309 `obj.message` \u8fdb\u884c\u5b57\u5178\u5e8f\u6392\u5e8f\uff0c\u786e\u4fdd\u53d1\u5e03\u8bf4\u660e\u6761\u76ee\u6709\u5e8f\u3002  \n  - \u5bf9\u6bcf\u4e2a PR \u8c03\u7528 `wrapper.ensure_title_link(obj)`\uff08\u5305\u88c5\u5668\u51fd\u6570\uff09\u751f\u6210\u5e26\u6709\u6807\u9898\u94fe\u63a5\u7684 Markdown \u5b50\u5217\u8868\u9879\uff0c\u5f62\u5982 `  * [\u6807\u9898](\u94fe\u63a5)`\u3002  \n  - \u5c06\u6240\u6709\u5b50\u5217\u8868\u9879\u62fc\u63a5\u5e76\u8ffd\u52a0\u5230 `notes`\uff0c\u6bcf\u4e2a\u7ae0\u8282\u540e\u81ea\u52a8\u6362\u884c\u3002\n\n- **\u8f93\u51fa**\uff1a  \n  -", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:44:07.703648"}