{"summary": "The code defines ****...**... ... ... ... ...... ... ... ... ... ... ... \nThe ... ... ... ... \n...\nWe need to produce a summary of the functionality of the code, focusing on business logic, inputs, outputs, in Chinese (or Chinese/English). Must start directly with the summary content, no \"This code does...\" etc. So we need to produce a concise description.\n\nLet's analyze the code.\n\nFile: instructor/client_gemini.py\n\nImports: __future__ annotations, typing Any, Literal, overload, google.generativeai as genai, instructor.\n\nDefine function from_gemini with parameters:\n\n- client: genai.GenerativeModel\n- mode: instructor.Mode = instructor.Mode.GEMINI_TOOLS\n- use_async: bool = False\n- **kwargs: Any\n\nReturn type: instructor.Instructor | instructor.AsyncInstructor\n\nInside:\n\n- assert mode in {instructor.Mode.GEMINI_JSON, instructor.Mode.GEMINI_TOOLS}, else error.\n- assert isinstance(client, (genai.GenerativeModel)), else error.\n\nIf use_async:\n- create = client.generate_content_async\n- return instructor.AsyncInstructor(...)\n\nElse:\n- create = client.generate_content\n- return instructor.Instructor(...)\n\nBoth constructors receive:\n- client=client\n- create=instructor.patch(create=create, mode=mode)\n- provider=instructor.Provider.GEMINI\n- mode=mode\n- **kwargs\n\nThus the function wraps a Gemini GenerativeModel client into an Instructor (or AsyncInstructor) object, applying a patch to the generate_content method based on mode (JSON or TOOLS). It validates inputs.\n\nSo summary: The function creates an Instructor wrapper for Gemini client, optionally async, with mode selection.\n\nNow produce summary in Chinese.\n\nWe need to start directly with summary content, no preamble.\n\nLet's craft:\n\n\"\u5c06 Google Gemini `genai.GenerativeModel` \u5b9e\u4f8b\u5305\u88c5\u4e3a `instructor.Instructor`\uff08\u540c\u6b65\uff09\u6216 `instructor.AsyncInstructor`\uff08\u5f02\u6b65\uff09\u5bf9\u8c61\uff0c\u652f\u6301\u4e24\u79cd\u5de5\u4f5c\u6a21\u5f0f `GEMINI_JSON` \u4e0e `GEMINI_TOOLS`\uff0c\u5e76\u5728\u521b\u5efa\u65f6\u5bf9\u539f\u59cb `generate_content`\uff08\u6216 `generate_content_async`\uff09\u65b9\u6cd5\u8fdb\u884c `instructor.patch` \u5904\u7406\uff0c\u4ee5\u7edf\u4e00\u4e3a\u7edf\u4e00\u7684\u8c03\u7528\u63a5\u53e3\u3002\u51fd\u6570\u63a5\u53d7 `client`\uff08\u5fc5\u9700\u4e3a `genai.GenerativeModel`\uff09\u3001`mode`\uff08\u9ed8\u8ba4 `GEMINI_TOOLS`\uff0c\u53ea\u80fd\u662f\u4e0a\u8ff0\u4e24\u79cd\u679a\u4e3e\uff09\u3001`use_async`\uff08\u51b3\u5b9a", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:42:00.606563"}