{"summary": "The code defines a CLI (typer) application.\nWe need to summarize functionality, business logic, inputs, outputs. Provide Chinese. No intro phrase. Just start with summary.\n\nLet's read code: It's a CLI usage script. It imports typer, aiohttp, asyncio, rich console/table/progress. It defines app = typer.Typer() console = Console(). Reads OPENAI_API_KEY env var. Defines MODEL_COSTS dict mapping model names to cost per token for prompt/completion (or per embedding). Then defines async function fetch_usage(date: str) -> dict[str, Any] that calls OpenAI usage endpoint with date param, using API key, returns JSON.\n\nProbably there are more functions later (not shown). But we need to summarize given code snippet. So summary: CLI tool to query OpenAI usage for a given date, compute cost per model based on token usage, display via rich tables/progress. Input: date string (YYYY-MM-DD). Output: usage data dict, possibly printed table.\n\nLet's craft summary: This script provides a command-line interface that, given a date, fetches OpenAI API usage via the /v1/usage endpoint using the API key from environment, then uses predefined per-token cost rates to calculate monetary cost per model, aggregates, and presents results in a formatted table with progress indicator. It uses async HTTP request.\n\nWill mention that MODEL_COSTS includes both prompt/completion and embedding costs.\n\nOk produce Chinese summary.assistantfinal\u63d0\u4f9b\u4e00\u4e2a\u57fa\u4e8e **Typer** \u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u7528\u4e8e\u67e5\u8be2\u5e76\u5c55\u793a\u6307\u5b9a\u65e5\u671f\uff08`YYYY\u2011MM\u2011DD`\uff09\u7684 OpenAI API \u4f7f\u7528\u60c5\u51b5\u3002  \n\n**\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91**  \n1. \u4ece\u73af\u5883\u53d8\u91cf `OPENAI_API_KEY` \u8bfb\u53d6 OpenAI \u8bbf\u95ee\u4ee4\u724c\u3002  \n2. \u901a\u8fc7 `aiohttp` \u5f02\u6b65\u8bf7\u6c42 `https://api.openai.com/v1/usage?date={date}`\uff0c\u83b7\u53d6\u8be5\u65e5\u671f\u7684\u539f\u59cb\u4f7f\u7528\u6570\u636e\uff08JSON\uff09\uff0c\u8fd4\u56de\u7ed3\u6784\u4e3a `dict[str, Any]`\u3002  \n3. \u4f9d\u636e `MODEL_COSTS` \u4e2d\u9884\u5b9a\u4e49\u7684\u6bcf\u5343 token\uff08\u6216\u6bcf\u5343\u6b21\u5d4c\u5165\uff09\u8d39\u7528\uff0c\u5bf9\u8fd4\u56de\u7684 token \u4f7f\u7528\u91cf\uff08prompt/completion\uff09\u6216\u5d4c\u5165\u8ba1\u6570\u8fdb\u884c\u8d39\u7528\u8ba1\u7b97\u3002  \n4. \u4f7f\u7528 **Rich** \u7684 `Console`\u3001`Table`\u3001`Progress` \u7b49\u7ec4\u4ef6\uff0c\u5c06\u6bcf\u4e2a\u6a21\u578b\u7684\u4f7f\u7528\u91cf\u3001\u8d39\u7528\u7b49\u4fe1\u606f\u4ee5\u8868\u683c\u6216\u8fdb\u5ea6\u6761\u7684\u5f62\u5f0f\u7f8e\u5316\u8f93\u51fa\u5230", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:55:21.204852"}