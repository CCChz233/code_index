{"summary": "The code defines a fixture fixture (...).\nWe need to summarize the functionality of the given code. The code is a test file for function calls. It imports various types from anthropic, openai, pydantic, instructor, etc. It defines a generic type variable T. Then defines a pytest fixture called mock_anthropic_message that returns a Message object. It takes a request parameter (type T). It sets default data_content to a JSON string with \"Claude says hi\". If request has a param attribute, it overrides data_content with request.param.get(\"data_content\", data_content). Then returns a Message with id, content (list with type text and text data_content), model, role, stop_reason, stop_sequence, type, usage (input_tokens=100, output_tokens=100). So the fixture is used to mock an Anthropic message for tests. It returns a Message object with default or overridden content.\n\nThus the summary: The code defines a pytest fixture that creates a mock Anthropic Message object, optionally customizing its content via request.param, and includes usage token counts. It is used in tests to simulate responses from the Claude model. The inputs: request fixture (pytest request) possibly containing param dict with \"data_content\". Output: a Message instance.\n\nWe need to follow the requirements: start directly with the summary content, no \"This code does...\" etc. Use Chinese (with English if needed). So we can write something like:\n\n\"\u63d0\u4f9b\u4e00\u4e2a pytest fixture `mock_anthropic_message`\uff0c\u7528\u4e8e\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\u751f\u6210\u6a21\u62df\u7684 Anthropic `Message` \u5bf9\u8c61\u3002\u9ed8\u8ba4\u8fd4\u56de\u7684 `content` \u4e3a JSON \u5b57\u7b26\u4e32 `{\\\"data\\\": \\\"Claude says hi\\\"}`\uff0c\u5982\u679c\u6d4b\u8bd5\u7528\u4f8b\u901a\u8fc7 `request.param` \u4f20\u5165 `data_content`\uff0c\u5219\u4f7f\u7528\u8be5\u503c\u8986\u76d6\u9ed8\u8ba4\u5185\u5bb9\u3002\u8fd4\u56de\u7684 `Message` \u5305\u542b\u56fa\u5b9a\u7684 `id`\u3001`model`\u3001`role`\u3001`stop_reason`\u3001`type`\uff0c\u4ee5\u53ca `Usage`\uff08`input_tokens=100`, `output_tokens=100`\uff09\u3002\u8be5 fixture \u7684\u8f93\u5165\u662f pytest \u7684 `request` \u5bf9\u8c61\uff0c\u8f93\u51fa\u662f\u6784\u9020\u597d\u7684 `Message` \u5b9e\u4f8b\uff0c\u4f9b\u540e\u7eed\u6d4b\u8bd5\u8c03\u7528 Anthropic API \u7684\u51fd\u6570\u4f7f\u7528\u3002\"\n\nThat satisfies. No mention of \"This code does\". Use Chinese. Provide summary. Let's produce final answer.assistantfinal\u63d0\u4f9b\u4e00\u4e2a pytest fixture `mock_anthropic_message`\uff0c\u7528\u4e8e\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\u751f\u6210\u6a21\u62df\u7684 Anthropic `Message` \u5bf9\u8c61", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:48:51.746086"}