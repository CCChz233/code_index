{"summary": "- Implements a topological sorting utility with cycle detection.\n- Provides a `TopologicalSorter` class that can add nodes and edges (dependencies) and then sort.\n- Uses `GenericAlias` for type hinting.\n- Defines constants `_NODE_OUT` and `_NODE_OUT` (likely typo?).\n- Provides a `CycleError` class (likely a custom exception.\nThe user asks: \"Summarize the functionality of the following code. Requirements: 1. Start directly with the summary content. No 'This code does...' or 'Here is...' 2. Focus on the business logic, inputs, and outputs. 3. Use Chinese (e.g., Chinese/English).\"\n\nWe need to produce a summary directly, no preamble. Should be Chinese (maybe mixed Chinese/English). Provide business logic, inputs, outputs.\n\nWe have only a snippet of code: Lib/graphlib.py TopologicalSorter from types import GenericAlias __all__ = [\"TopologicalSorter\", \"CycleError\"] _NODE_OUT = -1 _NODE_DONE = -2 __class_getitem__ = classmethod(GenericAlias)     def _get_nodeinfo(self, node):\n        if (result := self._node2info.get(node)) is None:\n            self._node2info[node] = result = _NodeInfo(node)\n        return result\n\nBut the snippet is incomplete. However we can infer functionality: topological sorter with cycle detection, ability to add nodes and edges, sort, etc. Provide summary.\n\nLet's craft a concise summary in Chinese, maybe with some English terms.\n\nWe need to mention inputs: nodes, dependencies; outputs: sorted order list; raises CycleError if cycle.\n\nAlso mention internal constants _NODE_OUT, _NODE_DONE used for node state.\n\nAlso mention __class_getitem__ for generic alias.\n\nOk.\n\nLet's produce final answer.assistantfinal\u5b9e\u73b0 **\u62d3\u6251\u6392\u5e8f**\uff08TopologicalSorter\uff09\u5e76\u63d0\u4f9b\u5faa\u73af\u68c0\u6d4b\u529f\u80fd\u7684\u5de5\u5177\u7c7b\u3002  \n\n- **\u4e1a\u52a1\u903b\u8f91**  \n  - \u901a\u8fc7 `add(node, *dependencies)`\uff08\u6216\u7c7b\u4f3c\u63a5\u53e3\uff09\u5411\u6392\u5e8f\u5668\u6ce8\u518c\u8282\u70b9\u53ca\u5176\u524d\u7f6e\u4f9d\u8d56\u3002  \n  - \u5185\u90e8\u7ef4\u62a4 `_node2info` \u6620\u5c04\uff0c`_get_nodeinfo(node)` \u5728\u9996\u6b21\u8bbf\u95ee\u65f6\u521b\u5efa\u5e76\u7f13\u5b58 `_NodeInfo` \u5b9e\u4f8b\u3002  \n  - \u4f7f\u7528\u72b6\u6001\u6807\u8bb0 `_NODE_OUT`\uff08-1\uff09\u548c `_NODE_DONE`\uff08-2\uff09\u8bb0\u5f55\u8282\u70b9\u7684\u904d\u5386\u8fdb\u5ea6\uff0c\u4ee5\u4fbf\u5728\u6df1\u5ea6", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:53:44.035916"}