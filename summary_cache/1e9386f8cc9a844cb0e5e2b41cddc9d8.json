{"summary": "We need to summarize functionality of code snippet. It's from aiohttp/web_response.py. It defines StreamResponse class and related functions. The snippet includes imports, constants, __all__, slots, and a write method. The summary should focus on business logic, inputs, outputs. Provide Chinese description. Let's craft summary: The module implements HTTP response handling for aiohttp server. It defines ContentCoding enum, StreamResponse class with attributes for status, headers, cookies, body, compression, chunked transfer, etc. The write method asynchronously writes raw bytes to the underlying payload writer after checks: data must be bytes-like, response not already closed, and prepare() called. It returns None (awaitable). Also defines json_response function etc. Provide summary. Let's produce final answer.assistantfinal\u5b9e\u73b0 **aiohttp** HTTP \u54cd\u5e94\u5bf9\u8c61\u7684\u6838\u5fc3\u4e1a\u52a1\u903b\u8f91\u3002  \n\n- **\u6a21\u5757\u804c\u8d23**\uff1a\u63d0\u4f9b\u670d\u52a1\u5668\u7aef HTTP \u54cd\u5e94\u7684\u5c01\u88c5\uff0c\u5305\u62ec\u72b6\u6001\u7801\u3001reason\u3001headers\u3001cookies\u3001payload\u3001\u538b\u7f29\u3001\u5206\u5757\u4f20\u8f93\u7b49\u5c5e\u6027\u7684\u7ba1\u7406\uff0c\u5e76\u5bf9\u5916\u66b4\u9732 `StreamResponse`\u3001`Response`\u3001`json_response` \u7b49\u53ef\u76f4\u63a5\u4f7f\u7528\u7684\u54cd\u5e94\u7c7b/\u5de5\u5382\u51fd\u6570\u3002  \n\n- **\u5173\u952e\u7c7b `StreamResponse`**  \n  - \u901a\u8fc7 `__slots__` \u9650\u5b9a\u5185\u90e8\u72b6\u6001\u5b57\u6bb5\uff1a`_status`\u3001`_reason`\u3001`_headers`\u3001`_cookies`\u3001`_payload_writer`\u3001`_keep_alive`\u3001`_chunked`\u3001`_compression`\u3001`_body`\u3001`_eof_sent` \u7b49\u3002  \n  - \u652f\u6301 **\u5ef6\u8fdf\u51c6\u5907**\uff08`prepare(request)`\uff09\u540e\u624d\u53ef\u5199\u5165\u6570\u636e\uff1b\u5728\u51c6\u5907\u4e4b\u524d\u8c03\u7528 `write()` \u4f1a\u629b `RuntimeError`\u3002  \n  - \u652f\u6301 **\u81ea\u52a8\u538b\u7f29**\uff08gzip/deflate\uff09\u548c **\u5f3a\u5236\u538b\u7f29**\uff0c\u901a\u8fc7 `ContentCoding` \u679a\u4e3e\u6620\u5c04\u5230\u5b9e\u9645\u538b\u7f29\u5b9e\u73b0 (`ZLibCompressor`)\u3002  \n  - \u901a\u8fc7 `must_be_empty_body`\u3001`should_remove_content_length` \u7b49\u8f85\u52a9\u51fd\u6570\u5b9e\u73b0\u5bf9 **\u7a7a\u4f53**\u3001**Content\u2011Length** \u81ea\u52a8\u5220\u9664\u7684\u4e1a\u52a1\u89c4\u5219\u3002  \n  - \u901a\u8fc7 `populate_with_cookies`\u3001`CookieMixin` \u5b9e\u73b0 **Set\u2011Cookie** \u5934\u90e8\u7684\u7edf\u4e00\u7ba1\u7406\u3002  \n\n- **\u6838\u5fc3\u5f02\u6b65\u5199\u5165\u63a5\u53e3 `write(self, data: bytes) -> None`**  \n  1. **\u8f93\u5165\u6821", "prompt_id": "28ad819ea97a795ed2ae85e64d974c5c", "created_at": "2026-02-04T20:56:42.377779"}